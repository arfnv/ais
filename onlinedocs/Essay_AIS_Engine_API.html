
<HTML>
<HEAD>
<link rel="stylesheet" type="text/css" href="../CoreContent/help.css">
<TITLE>AIS Essay Template</TITLE></HEAD>
<!--Page Parameters -->
<BODY BGCOLOR="#FFFFF0" TEXT="#000000" LINK="#0000ff">

<A NAME="topage"></A>
<A HREF="TOP"></A>



<P>&nbsp;</P>

<FONT COLOR="#000080"><H1>AIS Engine API</H1></FONT>
<P>&nbsp;</P>

<UL>
<li><a href="#SIntroduction"><FONT SIZE=2>Introduction</font></a></li><li><a href="#SFsmtbase.h"><FONT SIZE=2>Fsmtbase.h</font></a></li><li><a href="#SContext Pointer"><FONT SIZE=2>Context Pointer</font></a></li><li><a href="#SFSmartbase_OpenContext"><FONT SIZE=2>FSmartbase_OpenContext</font></a></li><li><a href="#SFSmartbase_FreeContext"><FONT SIZE=2>FSmartbase_FreeContext</font></a></li><li><a href="#SFSmartbase_OpenThread"><FONT SIZE=2>FSmartbase_OpenThread</font></a></li><li><a href="#SFSmartbase_FreeThread"><FONT SIZE=2>FSmartbase_FreeThread</font></a></li><li><a href="#S_FSmartbase_Catch"><FONT SIZE=2>_FSmartbase_Catch</font></a></li><li><a href="#SFSmartbase_CnvFromSubstring"><FONT SIZE=2>FSmartbase_CnvFromSubstring</font></a></li><li><a href="#SFSmartbase_CnvFromText"><FONT SIZE=2>FSmartbase_CnvFromText</font></a></li><li><a href="#SFSmartbase_CnvToText"><FONT SIZE=2>FSmartbase_CnvToText</font></a></li><li><a href="#SFSmartbase_Convert"><FONT SIZE=2>FSmartbase_Convert</font></a></li><li><a href="#SFSmartbase_DebugOn"><FONT SIZE=2>FSmartbase_DebugOn</font></a></li><li><a href="#SFSmartbase_ErrorTrace"><FONT SIZE=2>FSmartbase_ErrorTrace</font></a></li><li><a href="#SFSmartbase_Eval"><FONT SIZE=2>FSmartbase_Eval</font></a></li><li><a href="#SFSmartbase_Evals"><FONT SIZE=2>FSmartbase_Evals</font></a></li><li><a href="#SFSmartbase_Evalv"><FONT SIZE=2>FSmartbase_Evalv</font></a></li><li><a href="#SFSmartbase_FreeMemory"><FONT SIZE=2>FSmartbase_FreeMemory</font></a></li><li><a href="#SFSmartbase_GetObjectID"><FONT SIZE=2>FSmartbase_GetObjectID</font></a></li><li><a href="#SFSmartbase_GetSymbolValue"><FONT SIZE=2>FSmartbase_GetSymbolValue</font></a></li><li><a href="#SFSmartbase_GetSymbolValuePtr"><FONT SIZE=2>FSmartbase_GetSymbolValuePtr</font></a></li><li><a href="#SFSmartbase_InstructionTrace"><FONT SIZE=2>FSmartbase_InstructionTrace</font></a></li><li><a href="#SFSmartbase_MakeCFunction"><FONT SIZE=2>FSmartbase_MakeCFunction</font></a></li><li><a href="#SFSmartbase_MarkAndSweep"><FONT SIZE=2>FSmartbase_MarkAndSweep</font></a></li><li><a href="#SFSmartbase_MarkTval"><FONT SIZE=2>FSmartbase_MarkTval</font></a></li><li><a href="#SFSmartbase_MarkTvalShallow"><FONT SIZE=2>FSmartbase_MarkTvalShallow</font></a></li><li><a href="#SFSmartbase_NewMemory"><FONT SIZE=2>FSmartbase_NewMemory</font></a></li><li><a href="#SFSmartbase_NewType"><FONT SIZE=2>FSmartbase_NewType</font></a></li><li><a href="#SFSmartbase_OperatorNew"><FONT SIZE=2>FSmartbase_OperatorNew</font></a></li><li><a href="#SFSmartbase_recNumber"><FONT SIZE=2>FSmartbase_recNumber</font></a></li><li><a href="#SFSmartbase_Ref"><FONT SIZE=2>FSmartbase_Ref</font></a></li><li><a href="#SFSmartbase_Refv"><FONT SIZE=2>FSmartbase_Refv</font></a></li><li><a href="#SFSmartbase_RegisterCProcedure"><FONT SIZE=2>FSmartbase_RegisterCProcedure</font></a></li><li><a href="#SFSmartbase_ResizeMemory"><FONT SIZE=2>FSmartbase_ResizeMemory</font></a></li><li><a href="#SFSmartbase_SendMsg"><FONT SIZE=2>FSmartbase_SendMsg</font></a></li><li><a href="#SFSmartbase_SendMsgv"><FONT SIZE=2>FSmartbase_SendMsgv</font></a></li><li><a href="#SFSmartbase_Set"><FONT SIZE=2>FSmartbase_Set</font></a></li><li><a href="#SFSmartbase_SetSymbolValue"><FONT SIZE=2>FSmartbase_SetSymbolValue</font></a></li><li><a href="#SFSmartbase_Setv"><FONT SIZE=2>FSmartbase_Setv</font></a></li><li><a href="#SFSmartbase_SizeOfMemory"><FONT SIZE=2>FSmartbase_SizeOfMemory</font></a></li><li><a href="#SFSmartbase_Throw"><FONT SIZE=2>FSmartbase_Throw</font></a></li><li><a href="#SFSmartbase_VectorDelete"><FONT SIZE=2>FSmartbase_VectorDelete</font></a></li><li><a href="#SFSmartbase_ObjectLen"><FONT SIZE=2>FSmartbase_ObjectLen</font></a></li><li><a href="#SFSmartbase_ObjectrPtr"><FONT SIZE=2>FSmartbase_ObjectrPtr</font></a></li><li><a href="#SFSmartbase_Writeln"><FONT SIZE=2>FSmartbase_Writeln</font></a></li>
</UL>

<P><H2><A NAME="SIntroduction"></A>Introduction</H2></P>        
            <div class="h2section" id="Introduction">
                <p><a name="_Toc349893162">The
                Analytic Information Server database engine is made available to C/C++
                programmers as a dynamic link library object. The entire C API for The Analytic
                Information Server database engine can be accessed by including the file
                &quot;Fsmtbase.h&quot; in the programmer's C source file, and linking
                with the Analytic Information Server dynamic link library.</a></p>
                <p>The Analytic
                Information Server database engine is a fully scripted environment. Most
                communication between the C programmer and the Analytic Information Server
                engine is done through Lisp scripts. There are a small number of C functions
                which provide interface between C programs and the Analytic Information Server
                database engine for simple, often repeated commands. Most complicated
                interactions are managed by C programs invoking Lisp scripts.</p>
                <p>The Analytic
                Information Server engine API strategy is modeled after similar strategies
                used in relational database engines. Relational database engine APIs provide
                a small number of C functions for managing simple, often repeated
                programming commands. More complicated requests are managed by C programs
                invoking SQL scripts. Therefore, although the semantics of SQL and Lisp are
                quite different; here, their strategic API roles are quite similar. Both are
                tools for managing complicated commands within their respective database
                engines.</p>     
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFsmtbase.h"></A>Fsmtbase.h</H2></P>        
            <div class="h2section" id="Fsmtbase.h">
                <p><b>#include &quot;Fsmtbase.h&quot;</b></p>
                <p><b>C Header File</b></p>
                <p>The <b>Fsmtbase.h</b>
                C header file must be included once, at the beginning of an application
                program to use the Analytic Information Server database engine. It is the only
                include file necessary. The Fsmtbase.h header file includes all the C API
                functions to the Analytic Information Server engine, all of The Analytic
                Information Server API data types and tagged values, plus a host of other
                interface macros.</p>     
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SContext Pointer"></A>Context Pointer</H2></P>        
            <div class="h2section" id="Context Pointer">
            <p><b>CONTEXT&nbsp;
            myContext;</b></p>
            <p><b>C
            Structure Pointer</b></p>
            <p>The <b>CONTEXT</b>
            structure is passed to almost every Analytic Information Server engine C API
            function. Along with the THREAD structure, it provides the basic coding
            mechanism for supporting our free threading architecture. At the beginning
            of an application program, the Analytic Information Server database engine is
            initialized creating the initialized CONTEXT structure and a maximum number
            of THREAD structures associated with the CONTEXT.</p>
            <p>&nbsp;
         
            </p>
            <p><b>Note</b>:
            The THREAD structures used by the Analytic Information Server engine are NOT
            the same as the host operating system threads. OS threads include a
            multi-threading timer interrupt service, a machine operations
            stack, and machine temporary storage; while Analytic Information Server
            engine THREAD structures include a Analytic Information Server engine
            operations stack, a Analytic Information Server engine garbage collection
            stack, and Analytic Information Server engine thread temporary storage. For
            each OS thread allocated, the programmer must allocate a matching Lambda
            Information Server THREAD structure.
         
            </p>
            <p>The host
            application must supply the size of the work space memory block (usually
            multiple megabytes in size) and the maximum number of threads to support for
            this context. They are setup in a the FSmartbase_HostCallBackFunctions
            structure defined in Fsmtbase.h, which is passed as the only argument to
            FSmartbase_Init as follows:</p>
            <p>&nbsp;</p>   
            <blockquote>
            <p>struct&nbsp;
            FSmartbase_HostCallBackFunctions
         
            </p>
            <p>{
         
            </p>
            <p>NUM
            &nbsp;&nbsp;&nbsp; (*_Host_Display)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            (CONTEXT* gCP,THREAD* gTP,char*&nbsp;
            string,NUM&nbsp; newline);
         
            </p>
            <p>NUM&nbsp;&nbsp;&nbsp;&nbsp;
            (*_Host_Escape)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            (CONTEXT* gCP,THREAD* gTP,void);
         
            </p>
            <p>NUM&nbsp;&nbsp;&nbsp;&nbsp;
            (*_Host_OpenF)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            (CONTEXT* gCP,THREAD* gTP,char*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            name, NUM mode, NUM type);
         
            </p>
            <p>NUM&nbsp;&nbsp;&nbsp;&nbsp;
            (*_Host_ReadF)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            (CONTEXT* gCP,THREAD* gTP,NUM
            fileID,NUM length,char*&nbsp; bufptr);
         
            </p>
            <p>NUM&nbsp;&nbsp;&nbsp;&nbsp;
            (*_Host_WriteF)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            (CONTEXT* gCP,THREAD* gTP,NUM
            fileID,NUM length,char*&nbsp; bufptr);
         
            </p>
            <p>NUM&nbsp;&nbsp;&nbsp;&nbsp;
            (*_Host_SeekF)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            (CONTEXT* gCP,THREAD* gTP,NUM
            fileID,NUM adjustment,NUM&nbsp; opcode);
         
            </p>
            <p>NUM&nbsp;&nbsp;&nbsp;&nbsp;
            (*_Host_ResizeF)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            (CONTEXT* gCP,THREAD* gTP,NUM
            fileID,NUM newsize);
         
            </p>
            <p>NUM&nbsp;&nbsp;&nbsp;&nbsp;
            (*_Host_CloseF)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            (CONTEXT* gCP,THREAD* gTP,NUM&nbsp;
            fileID,NUM opcode);
         
            </p>
            <p>NUM&nbsp;&nbsp;&nbsp;&nbsp;
            _Host_MemorySize;
         
            </p>
            <p>NUM&nbsp;&nbsp;&nbsp;&nbsp;
            _Host_MaxThreadCount;
         
            </p>
            <p>POINTER_Host_memBlockPtr;
         
            </p>
            <p>NUM&nbsp;&nbsp;&nbsp;&nbsp;
            _Host_OperationsStackWords;
         
            </p>
            <p>NUM&nbsp;&nbsp;&nbsp;&nbsp;
            _Host_GarbageStackWords;
         
            </p>
            <p>};
         
            </p>   
            </blockquote>
            <p><a name="_Toc350173584"><b>Note1:</b></a></p>
            <p><a name="_Toc350173584"><b>A
            complete description of each host API functions can be found at the end of
            this chapter.
         
            </b></a></p>
            <p><b>Note2:</b><b></b></p>
            <p>Many
            Fsmartbase.h macros assume that the current CONTEXT pointer is stored in the
            local variable named <b>gCP</b>, and
            that the current THREAD pointer is stored in the local variable named <b>gTP</b>.
            </p>
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_OpenContext"></A>FSmartbase_OpenContext</H2></P>        
            <div class="h2section" id="FSmartbase_OpenContext">
             <p><b>CONTEXT*&nbsp;
            FSmartbase_OpenContext(struct FSmartbase_HostCallBackFunctions *Funcs);
            </b>MFK
            add to project</p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_OpenContext</b>
            function is called, at the beginning of an application program to initialize
            a Analytic Information Server CONTEXT structure. This involves three basic
            operations: waking up all of the Analytic Information Server engine's internal
            processes, passing a block of system memory for use by this engine CONTEXT,
            and registering the proper hosting IO functions to the Analytic Information
            Server engine.</p>
            <p>The return
            value is the Analytic Information Server engine context pointer that was
            created and initialized as a result of this call.</p>
            <p>More than
            one CONTEXT may be opened.</p>
            <p>The C Lambda
            Information Server API is divided into two halves. The first half consists
            of all the <b>C Programmer's API</b>
            functions (which are provided through the Fsmtbase.h include file). The
            second half consists of all the <b>Hosting
            IO</b> <b>Functions</b> (which are
            provided to the Analytic Information Server engine by the host application at
            initialization). There are several functions which the host application must
            supply, they are setup in the FSmartbase_HostCallBackFunctions structure
            defined in Fsmtbase.h, which is passed as the only argument to
            FSmartbase_OpenContext.</p>
            <p>&nbsp;</p>
            <p><b>For
            example:</b></p>    
            <blockquote>
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>int&nbsp;&nbsp;&nbsp;&nbsp;
            main(int argc,char* argv[])
         
            </p>
            <p>{
         
            </p>
            <p>static
            CONTEXT*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            gCP;
         
            </p>
            <p>static
            THREAD*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            gTP;
         
            </p>
            <p>int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            statusCode;
         
            </p>
            <p>gCP
            = FSmartbase_OpenContext(HostCallBackFunctions);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Set the catastrophic error routine here..
         
            </p>
            <p>_FSmartbase_Catch(statusCode,ErrorManager);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Open a new Analytic Information Server thread structure.
         
            </p>
            <p>gTP
            = FSmartbase_OpenThread(gCP);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Evaluate a Analytic Information Server script command.
         
            </p>
            <p>FSmartbase_Evals(gCP,gTP,argv[0]);
         
            </p>
            <p>FSmartbase_FreeThread(gTP);
         
            </p>
            <p>FSmartbase_FreeContext(gCP);
         
            </p>
            <p>return(0);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            This code manages all catastrophic error conditions.
         
            </p>
            <p>ErrorManager:
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Note:&nbsp;&nbsp; We can simply
            return the statusCode or use it for decisions.
         
            </p>
            <p>return(statusCode);
         
            </p>
            <p>}
         
            </p>    
            </blockquote>
            <p><b>Note1</b>:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
            <p>The
            <b>FSmartbase_OpenContext</b> function
            does not start a timer nor does it alter the existing host thread. It only
            opens and initializes a used Analytic Information Server CONTEXT structure.
         
            </p>
            <p><b>Note2:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b></p>
            <p><b>&nbsp;</b>Many
            Fsmartbase.h macros assume that the current CONTEXT pointer is stored in the
            local variable named <b>gCP</b>, and
            that the current THREAD pointer is stored in the local variable named <b>gTP</b>.
         
            </p>
            <p><b>Note3</b>:
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
            <p>The
            THREAD structures used by the Analytic Information Server engine are NOT the
            same as the host operating system threads. OS threads include a
            multi-threading timer interrupt service, a machine operations&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            stack, and machine temporary storage; while Analytic Information Server
            engine THREAD structures include a Analytic Information Server engine
            operations stack, a Analytic Information Server engine garbage collection
            stack, and Analytic Information Server engine thread temporary storage. For
            each OS thread allocated, the programmer must allocate a matching Lambda
            Information Server THREAD structure. 
            </p>
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_FreeContext"></A>FSmartbase_FreeContext</H2></P>        
            <div class="h2section" id="FSmartbase_FreeContext">
            <p><b>void
            &nbsp;&nbsp;&nbsp; FSmartbase_FreeContext(CONTEXT*
            myContext);</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_FreeContext</b>
            function is invoked when the programmer wishes to free a used Lambda
            Information Server CONTEXT structure. This function does not end a timer nor
            does it alter the existing host thread. It only closes and frees a used
            Analytic Information Server CONTEXT structure. This function should always be
            invoked at the end of an application program.</p>
            <p><b>For
            example:</b></p>   
            <blockquote>
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>int&nbsp;&nbsp;&nbsp;&nbsp;
            main(int argc,char* argv[])
         
            </p>
            <p>{
         
            </p>
            <p>static
            CONTEXT*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            gCP;
         
            </p>
            <p>static
            THREAD*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            gTP;
         
            </p>
            <p>int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            statusCode;
         
            </p>
            <p>myContext
            = FSmartbase_OpenContext(HostCallBackFunctions);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Set the catastrophic error routine here..
         
            </p>
            <p>_FSmartbase_Catch(statusCode,ErrorManager);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Open a new Analytic Information Server thread structure.
         
            </p>
            <p>gTP
            = FSmartbase_OpenThread(gCP);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Evaluate a Analytic Information Server script command.
         
            </p>
            <p>FSmartbase_Evals(gCP,gTP,argv[0]);
         
            </p>
            <p>FSmartbase_FreeThread(gTP);
         
            </p>
            <p>FSmartbase_FreeContext(gCP);
         
            </p>
            <p>return(0);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            This code manages all catastrophic error conditions.
         
            </p>
            <p>ErrorManager:
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Note:&nbsp;&nbsp; We can simply
            return the statusCode or use it for decisions.
         
            </p>
            <p>return(statusCode);
         
            </p>
            <p>}</p>
             </blockquote>
            <p><b>Note1</b>:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
            <p>The
            <b>FSmartbase_FreeContext</b> function
            does not end a timer nor does it alter the existing host thread. It only
            closes and frees a used Analytic Information Server CONTEXT structure.
         
            </p>
            <p><a name="_Toc350173585"><b>Note2:</b></a></p>
            <p>Many
            Fsmartbase.h macros assume that the current CONTEXT pointer is stored in the
            local variable named <b>gCP</b>, and
            that the current THREAD pointer is stored in the local variable named <b>gTP</b>.
            </p>
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_OpenThread"></A>FSmartbase_OpenThread</H2></P>        
            <div class="h2section" id="FSmartbase_OpenThread">
            <p><b>THREAD*
            FSmartbase_OpenThread(CONTEXT* myContext);</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_OpenThread</b>
            function is invoked each time the programmer wishes to open a new Lambda
            Information Server THREAD structure. This function does not start a new
            timer nor does it alter the existing host thread. It only opens and returns
            a new Analytic Information Server THREAD structure for managing calls. This
            function should always be invoked at least once at the beginning of an
            application program to obtain a Analytic Information Server THREAD pointer so
            that C API function calls may be made to the engine.</p>
            <p><b>For
            example:</b></p>    
            <blockquote>
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>int&nbsp;&nbsp;&nbsp;&nbsp;
            main(int argc,char* argv[])
         
            </p>
            <p>{
         
            </p>
            <p>static
            CONTEXT*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            gCP;
         
            </p>
            <p>static
            THREAD*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            gTP;
         
            </p>
            <p>int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            statusCode;
         
            </p>
            <p>myContext
            = FSmartbase_OpenContext(HostCallBackFunctions);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Set the catastrophic error routine here..
         
            </p>
            <p>_FSmartbase_Catch(statusCode,ErrorManager);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Open a new Analytic Information Server thread structure.
         
            </p>
            <p>myThread
            = FSmartbase_OpenThread(gCP);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Evaluate a Analytic Information Server script command.
         
            </p>
            <p>FSmartbase_Evals(gCP,gTP,argv[0]);
         
            </p>
            <p>return(0);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            This code manages all catastrophic error conditions.
         
            </p>
            <p>ErrorManager:
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Note:&nbsp;&nbsp; We can simply
            return the statusCode or use it for decisions.
         
            </p>
            <p>return(statusCode);
         
            </p>
            <p>}</p>
             </blockquote>
            
            <p><b>Note</b>:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
            <p>The
            <b>FSmartbase_OpenThread</b> function
            does not start a new timer nor does it alter the existing host thread. It
            only opens and returns a new Analytic Information Server THREAD structure for
            managing calls.
         
            </p>
            <p><b>Note2:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b></p>
            <p>Many
            Fsmartbase.h macros assume that the current CONTEXT pointer is stored in the
            local variable named <b>gCP</b>, and
            that the current THREAD pointer is stored in the local variable named <b>gTP</b>.
         
            </p>
            <p><b>Note3</b>:
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
            <p>The
            THREAD structures used by the Analytic Information Server engine are NOT the
            same as the host operating system threads. OS threads include a
            multi-threading timer interrupt service, a machine operations&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            stack, and machine temporary storage; while Analytic Information Server
            engine THREAD structures include a Analytic Information Server engine
            operations stack, a Analytic Information Server engine garbage collection
            stack, and Analytic Information Server engine thread temporary storage. For
            each OS thread allocated, the programmer must allocate a matching Lambda
            Information Server THREAD structure.
            </p>     
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_FreeThread"></A>FSmartbase_FreeThread</H2></P>        
            <div class="h2section" id="FSmartbase_FreeThread">
            <p><b>void
            &nbsp;&nbsp;&nbsp; FSmartbase_FreeThread(THREAD*
            myThread);</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_FreeThread</b>
            function is invoked when the programmer wishes to free a used Lambda
            Information Server THREAD structure. This function does not end a timer nor
            does it alter the existing host thread. It only closes and frees a used
            Analytic Information Server THREAD structure. This function should always be
            invoked at the end of an application program.</p>
            <p><b>For
            example:</b></p>          
            <blockquote>
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>int&nbsp;&nbsp;&nbsp;&nbsp;
            main(int argc,char* argv[])
         
            </p>
            <p>{
         
            </p>
            <p>static
            CONTEXT*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            gCP;
         
            </p>
            <p>static
            THREAD*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            gTP;
         
            </p>
            <p>int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            statusCode;
         
            </p>
            <p>myContext
            = FSmartbase_OpenContext(HostCallBackFunctions);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Set the catastrophic error routine here..
         
            </p>
            <p>_FSmartbase_Catch(statusCode,ErrorManager);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Open a new Analytic Information Server thread structure.
         
            </p>
            <p>myThread
            = FSmartbase_OpenThread(gCP);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Evaluate a Analytic Information Server script command.
         
            </p>
            <p>FSmartbase_Evals(gCP,gTP,argv[0]);
         
            </p>
            <p>FSmartbase_FreeThread(gTP);
         
            </p>
            <p>return(0);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            This code manages all catastrophic error conditions.
         
            </p>
            <p>ErrorManager:
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Note:&nbsp;&nbsp; We can simply
            return the statusCode or use it for decisions.
         
            </p>
            <p>return(statusCode);
         
            </p>
            <p>}</p>
            </blockquote>
            
            <p><b>Note</b>:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
            <p>The
            <b>FSmartbase_FreeThread</b> function
            does not end a timer nor does it alter the existing host thread. It only
            closes and frees a used Analytic Information Server THREAD structure.
         
            </p>
            <p><b>Note2:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b></p>
            <p>Many
            Fsmartbase.h macros assume that the current CONTEXT pointer is stored in the
            local variable named <b>gCP</b>, and
            that the current THREAD pointer is stored in the local variable named <b>gTP</b>.
         
            </p>
            <p><b>Note3</b>:
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
            <p>The
            THREAD structures used by the Analytic Information Server engine are NOT the
            same as the host operating system threads. OS threads include a
            multi-threading timer interrupt service, a machine operations&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            stack, and machine temporary storage; while Analytic Information Server
            engine THREAD structures include a Analytic Information Server engine
            operations stack, a Analytic Information Server engine garbage collection
            stack, and Analytic Information Server engine thread temporary storage. For
            each OS thread allocated, the programmer must allocate a matching Lambda
            Information Server THREAD structure.
            </p>
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="S_FSmartbase_Catch"></A>_FSmartbase_Catch</H2></P>        
            <div class="h2section" id="_FSmartbase_Catch">
            <p><b>_FSmartbase_Catch(statusCode,label);</b></p>
            <p><b>C
            Macro</b></p>
            <p>The _<b>FSmartbase_Catch</b>
            macro is invoked each time the programmer wishes to identify and error
            return point. This macro should always be invoked at least once at the
            beginning of an application program to tell the Analytic Information Server
            database engine where to return after catastrophic errors.</p>
            <p><b>For
            example:</b></p>    
            <blockquote>
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>int&nbsp;&nbsp;&nbsp;&nbsp;
            main(int argc,char* argv[])
         
            </p>
            <p>{
         
            </p>
            <p>CONTEXT*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            gCP;
         
            </p>
            <p>int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            statusCode;
         
            </p>
            <p>myContext
            = FSmartbase_OpenContext(HostCallBackFunctions);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Set the catastrophic error routine here..
         
            </p>
            <p>_FSmartbase_Catch(statusCode,ErrorManager);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Place application code plus all API calls to Analytic Information Server
            here.
         
            </p>
            <p>return(0);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            This code manages all catastrophic error conditions.
         
            </p>
            <p>ErrorManager:
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Note:&nbsp;&nbsp; We can simply
            return the statusCode or use it for decisions.
         
            </p>
            <p>return(statusCode);
         
            </p>
            <p>}</p>
            </blockquote>
            
            <p><b>Note2:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b></p>
            <p>Many
            Fsmartbase.h macros assume that the current CONTEXT pointer is stored in the
            local variable named <b>gCP</b>, and
            that the current THREAD pointer is stored in the local variable named <b>gTP</b>.
            </p>
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_CnvFromSubstring"></A>FSmartbase_CnvFromSubstring</H2></P>        
            <div class="h2section" id="FSmartbase_CnvFromSubstring">
            <p><b>FSmartbase_CnvFromSubstring(CONTEXT*
            gCP,THREAD* gTP,LpCHAR buf,NUM start,NUM length);</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_CnvFromSubstring
            </b>function converts from a C Substring to a TVAL. This function always
            returns a result (even if the result is an error code).</p>
            <p>&nbsp;
         
            </p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>LpCHAR
                    buf
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>buffer for the result of the conversion.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>NUM
                    start
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>buffer starting character index.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>NUM
                    length
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>buffer length from the starting index.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>Result
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>return(TVAL)
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    result of the attempted conversion. This may be an error.</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p><b>&nbsp;
         
            </b></p>
            <p><b>For
            example:</b></p>     
            <blockquote>
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>TVAL&nbsp;&nbsp;&nbsp;
            foo(CONTEXT* gCP,THREAD* gTP)
         
            </p>
            <p>{
         
            </p>
            <p>StartFrame
         
            </p>
            <p>DeclareTVAL(index);
         
            </p>
            <p>EndFrame
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Convert from a C Substring to an engine tval.
         
            </p>
            <p>Stack(index)
            = FSmartbase_CnvFromSubstring(gCP,gTP,&quot;Hello there you all&quot;,6,5);
         
            </p>
            <p>...
         
            </p>
            <p>FrameExit(Stack(index));
         
            </p>
            <p>}</p>
            </blockquote>
            
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Care must be taken to assure
            that any temporary results are protected from garbage collection.<b>
            </b>The FSmartbase_MarkAndSweep function invokes immediate Analytic Information
            Server garbage collection from C and C++. Unfortunately this will collect
            any temporary Tvals declared inline to the C and C++ function. The following
            macros allow the C and C++ programmer to reserve temporary space on the
            Analytic Information Server stack for storing Tvals. This prevents them from
            being garbage collected.
         
            </p>
            <p><a name="_Toc350173586"><b>StartFrame&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b></a>Starts
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>DeclareTVAL(var)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Starts
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>EndFrame&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Ends
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>Stack(var)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Direct
            access to stack variable.<b>
            </b></p>
            <p><b>FrameReset&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            the Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>ExitOnError(value)&nbsp;&nbsp;&nbsp;&nbsp;
            </b>If
            value is an error, resets frame and returns value (value must be a Tval).<b>
            </b></p>
            <p><b>FrameExit(value)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            frame and returns value (value must be a Tval).
         
            </p>
            <p><b>FrameReturn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            frame, no value returned.
            </p>
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_CnvFromText"></A>FSmartbase_CnvFromText</H2></P>        
            <div class="h2section" id="FSmartbase_CnvFromText">
            <p><b>FSmartbase_CnvFromText(CONTEXT*
            gCP,THREAD* gTP,LpCHAR buf);</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_CnvFromText
            </b>function converts from a C String to a TVAL. This function always
            returns a result (even if the result is an error code).</p>
            <p>&nbsp;
         
            </p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>LpCHAR
                    buf
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>buffer for the result of the conversion.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>Result
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>return(TVAL)
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    result of the attempted conversion. This may be an error.</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p><b>&nbsp;
         
            </b></p>
            <p><b>For
            example:</b></p>      
            <blockquote>
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>TVAL&nbsp;&nbsp;&nbsp;
            foo(CONTEXT* gCP,THREAD* gTP)
         
            </p>
            <p>{
         
            </p>
            <p>StartFrame
         
            </p>
            <p>DeclareTVAL(index);
         
            </p>
            <p>EndFrame
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Convert from a C String to an engine symbol.
         
            </p>
            <p>Stack(index)
            = FSmartbase_CnvFromText(gCP,gTP,&quot;window&quot;);
         
            </p>
            <p>...
         
            </p>
            <p>FrameExit(Stack(index));
         
            </p>
            <p>}</p>
            </blockquote>
            
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Care must be taken to assure
            that any temporary results are protected from garbage collection.<b>
            </b>The FSmartbase_MarkAndSweep function invokes immediate Analytic Information
            Server garbage collection from C and C++. Unfortunately this will collect
            any temporary Tvals declared inline to the C and C++ function. The following
            macros allow the C and C++ programmer to reserve temporary space on the
            Analytic Information Server stack for storing Tvals. This prevents them from
            being garbage collected.
         
            </p>
            <p><a name="_Toc350173587"><b>StartFrame&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b></a>Starts
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>DeclareTVAL(var)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Starts
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>EndFrame&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Ends
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>Stack(var)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Direct
            access to stack variable.<b>
            </b></p>
            <p><b>FrameReset&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            the Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>ExitOnError(value)&nbsp;&nbsp;&nbsp;&nbsp;
            </b>If
            value is an error, resets frame and returns value (value must be a Tval).<b>
            </b></p>
            <p><b>FrameExit(value)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            frame and returns value (value must be a Tval).
         
            </p>
            <p><b>FrameReturn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            frame, no value returned.     
            </p>
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_CnvToText"></A>FSmartbase_CnvToText</H2></P>        
            <div class="h2section" id="FSmartbase_CnvToText">
            <p><b>FSmartbase_CnvToText(CONTEXT*
            gCP,THREAD* gTP,LpCHAR buf, NUM maxLen, TVAL source);
         
            </b></p>
            <p><b>C
            Function
         
            </b></p>
            <p>The <b>FSmartbase_CnvToText</b>
            function converts from an arbitrary TVAL to a C String. This function always
            returns a result (even if the result is an error code).</p>
            <p>&nbsp;
         
            </p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>LpCHAR
                    buf
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>buffer for the result of the conversion.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>NUM
                    maxLen
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    maximum length of the generated result.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>TVAL
                    source
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    arbitrary engine generated TVAL to be converted.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>Result
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>return(TVAL)
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    result of the attempted conversion. This is either TRUE or an error.</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p><b>For
            example:
         
            </b></p>  
            <blockquote>
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>TVAL&nbsp;&nbsp;&nbsp;
            foo(CONTEXT* gCP,THREAD* gTP)
         
            </p>
            <p>{
         
            </p>
            <p>CHAR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            cBuf[128];
         
            </p>
            <p>StartFrame
         
            </p>
            <p>DeclareTVAL(result);
         
            </p>
            <p>DeclareTVAL(ret);
         
            </p>
            <p>EndFrame
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Compile a simple arithmetic function here.
         
            </p>
            <p>Stack(result)
            = FSmartbase_Evals(gCP,gTP,&quot;(+ 1 2 3)&quot;, FALSE);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Convert the result to a C string. &quot;6&quot;
         
            </p>
            <p>Stack(ret)
            = FSmartbase_CnvToText(gCP,gTP,cBuf, sizeof(cBuf) - 1, Stack(result));
         
            </p>
            <p>if
            (ret.Tag != TYERROR)&nbsp; printf(&quot;Result
            of conversion is %s&quot;, cBuf);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Return the evaluation result.
         
            </p>
            <p>FrameExit(result);
         
            </p>
            <p>}</p>
            </blockquote>
            
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Care must be taken to assure
            that any temporary results are protected from garbage collection.<b>
            </b>The FSmartbase_MarkAndSweep function invokes immediate Analytic Information
            Server garbage collection from C and C++. Unfortunately this will collect
            any temporary Tvals declared inline to the C and C++ function. The following
            macros allow the C and C++ programmer to reserve temporary space on the
            Analytic Information Server stack for storing Tvals. This prevents them from
            being garbage collected.
         
            </p>
            <p><a name="_Toc350173588"><b>StartFrame&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b></a>Starts
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>DeclareTVAL(var)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Starts
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>EndFrame&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Ends
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>Stack(var)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Direct
            access to stack variable.<b>
            </b></p>
            <p><b>FrameReset&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            the Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>ExitOnError(value)&nbsp;&nbsp;&nbsp;&nbsp;
            </b>If
            value is an error, resets frame and returns value (value must be a Tval).<b>
            </b></p>
            <p><b>FrameExit(value)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            frame and returns value (value must be a Tval).
         
            </p>
            <p><b>FrameReturn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            frame, no value returned.
            </p>
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_Convert"></A>FSmartbase_Convert</H2></P>        
            <div class="h2section" id="FSmartbase_Convert">
            <p><b>FSmartbase_Convert(CONTEXT*
            gCP,THREAD* gTP,TYPE&nbsp; targetType,
            TVAL&nbsp; oldValue);</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_Convert
            </b>function converts from an old value to a new value of the specified
            type. This function always returns a result (even if the result is an error
            code).</p>
            <p>&nbsp;
         
            </p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>TYPE&nbsp;
                    targetType
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>target type for the conversion.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>TVAL&nbsp;
                    oldValue
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    old value to be converted into the target type.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>Result
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>return(TVAL)
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    result of the conversion. This is either an error or a value of the
                    target type.</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p><b>For
            example:</b></p>     
            <blockquote>
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>TVAL
            foo(CONTEX* gCP,THREAD*
            gTP,TVAL&nbsp;
            oldValue)
         
            </p>
            <p>{
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Convert the argument into a real number.
         
            </p>
            <p>return(FSmartbase_Convert(gCP,gTP,TYREAL,
            oldValue));
         
            </p>
           <p>}    </p>  
           </blockquote>
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_DebugOn"></A>FSmartbase_DebugOn</H2></P>        
            <div class="h2section" id="FSmartbase_DebugOn">
            <p><b>NUM
            FSmartbase_DebugOn(CONTEXT* gCP,THREAD* gTP);</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_DebugOn
            </b>function returns non-zero if we are in error trace mode.</p>
            <p>&nbsp;
         
            </p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>Result
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>return(NUM)
         
                    </b></p>
                  </td>
                  <td>
                    <p>Non-zero
                    if we are in debug mode.</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p><b>For
            example:</b></p>  
            <blockquote>
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>void&nbsp;&nbsp;&nbsp;
            foo(CONTEXT* gCP,THREAD* gTP)
         
            </p>
            <p>{
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Check to see if we are in debug mode.
         
            </p>
            <p>if(FSmartbase_DebugOn(gCP,gTP))
            printf(&quot;We are in debug mode.&quot;);
         
            </p>
            <p>...
         
            </p>
            <p>}         </p>
              </blockquote>
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_ErrorTrace"></A>FSmartbase_ErrorTrace</H2></P>        
            <div class="h2section" id="FSmartbase_ErrorTrace">
            <p><b>NUM
            FSmartbase_ErrorTrace(CONTEXT* gCP,THREAD* gTP,NUM toggleSwitch);</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_ErrorTrace
            </b>function returns non-zero if we are in debug mode.</p>
            <p>&nbsp;
         
            </p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>toggleSwitch
         
                    </b></p>
                  </td>
                  <td>
                    <p>One
                    to set Error Trace mode on.</p>
                    <p>Zero
                    to set Error Trace mode off.</p>
                    <p>Minus
                    one to view Error Trace setting.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>return(NUM)
         
                    </b></p>
                  </td>
                  <td>
                    <p>One
                    if we are in Error Trace mode; otherwise zero.</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p><b>For
            example:</b></p>  
            <blockquote>
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>void&nbsp;&nbsp;&nbsp;
            foo(CONTEXT* gCP,THREAD* gTP)
         
            </p>
            <p>{
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Check to see if we are in debug mode.
         
            </p>
            <p>if&nbsp;
            (FSmartbase_ErrorTrace(gCP,gTP,-1)) printf(&quot;We are in error
            trace mode.&quot;);
         
            </p>
            <p>...
         
            </p>
            <p>}</p>
            </blockquote>     
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_Eval"></A>FSmartbase_Eval</H2></P>        
            <div class="h2section" id="FSmartbase_Eval">
    <p><b>FSmartbase_Eval(CONTEXT*
    gCP,THREAD* gTP,TVAL&nbsp; theProc,NUM&nbsp;
    argc, ... );</b></p>
    <p><b>C
    Function</b></p>
    <p>The <b>FSmartbase_Eval</b>
    function evaluates the specified function against the argument list. There
    is no limit to the size of the argument list. This function always returns a
    result (even if the result is an error code).</p>
    <p>&nbsp;
 
    </p>
    <table>
      <tbody>
        <tr>
          <td>
            <p><b>Arguments
 
            </b></p>
          </td>
          <td>
            <p>&nbsp;
 
            </p>
          </td>
        </tr>
        <tr>
          <td>
            <p><b>CONTEXT*
            gCP
 
            </b></p>
          </td>
          <td>
            <p>The<b>
            </b>context pointer.</p>
          </td>
        </tr>
        <tr>
          <td>
            <p><b>THREAD*
            gTP
 
            </b></p>
          </td>
          <td>
            <p>The<b>
            </b>thread pointer.</p>
          </td>
        </tr>
        <tr>
          <td>
            <p><b>TVAL&nbsp;
            theProc
 
            </b></p>
          </td>
          <td>
            <p>The<b>
            </b>function which is to be evaluated.</p>
          </td>
        </tr>
        <tr>
          <td>
            <p><b>NUM&nbsp;
            argc
 
            </b></p>
          </td>
          <td>
            <p>The
            count of the arguments (may be zero).</p>
          </td>
        </tr>
        <tr>
          <td>
            <p><b>TVAL&nbsp;
            arg...
 
            </b></p>
          </td>
          <td>
            <p>The
            optional direct argument list.</p>
          </td>
        </tr>
        <tr>
          <td>
            <p><b>Result
 
            </b></p>
          </td>
          <td>
            <p>&nbsp;
 
            </p>
          </td>
        </tr>
        <tr>
          <td>
            <p><b>return(TVAL)
 
            </b></p>
          </td>
          <td>
            <p>The
            result of evaluating the function. Regardless of the side effects,
            evaluating a function always returns a result value.</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p>&nbsp;
 
    </p>
    <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </b>The FSmartbase_Eval function
    supports direct inline Analytic Information Server function invocations from C
    and C++. Since Analytic Information Server functions may take an optional
    number of arguments, the TVAL arguments to FSmartbase_Eval are also optional
    (not unlike the C <b>printf</b>
    function). Of course all arguments to Analytic Information Server functions
    must be TVAL's, therefore, the following conversion macros are supplied in
    Fsmtbase.h for easy inline argument conversion from C data types to Lambda
    Information Server tagged values:
 
    </p>
    <p><b>TBOOL(b)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </b>Converts a C boolean into a
    tagged value.<b>
    </b></p>
    <p><b>TCHAR(c)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </b>Converts a C character into
    a tagged value.<b>
    </b></p>
    <p><b>TFUNCTION(f)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </b>Converts a C function into a
    tagged value.<b>
    </b></p>
    <p><b>TINT(i)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </b>Converts a C integer into a
    tagged value.<b>
    </b></p>
    <p><b>TREAL(r)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </b>Converts a C real into a
    tagged value.<b>
    </b></p>
    <p><b>TSTRING(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </b>Converts a C string into a
    tagged value.<b>
    </b></p>
    <p><b>TSYMBOL(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </b>Converts a C string into a
    symbol tagged value.<b>
    </b></p>
    <p><b>TQSYMBOL(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </b>Converts a C string into a
    quoted symbol tagged value.<b>
    </b></p>
    <p><b>TGVALUE(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </b>Converts a C string into the
    global value of the symbol.
 
    </p>
    <p><b>&nbsp;
 
    </b></p>
    <p><b>For
    example:
 
    </b></p>   
    <blockquote>
    <p>#include&nbsp;
    &quot;Fsmtbase.h&quot;
 
    </p>
    <p>static
    TVAL theProc;
 
    </p>
    <p>TVAL&nbsp;&nbsp;&nbsp;
    foo(CONTEXT* gCP,THREAD* gTP)
 
    </p>
    <p>{
 
    </p>
    <p>StartFrame
 
    </p>
    <p>DeclareTVAL(result);
 
    </p>
    <p>EndFrame
 
    </p>
    <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    Compile a simple arithmetic function here.
 
    </p>
    <p>if
    (theProc.Tag == TYVOID)
 
    </p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    theProc = FSmartbase_Evals(gCP,gTP,&quot;(defun myProc(n m) (+ n
    m))&quot;,FALSE);
 
    </p>
    <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    Evaluate a simple arithmetic function here.
 
    </p>
    <p>Stack(result)
    = FSmartbase_Eval(gCP,gTP,theProc,2,TINT(22),TREAL(32.47));
 
    </p>
    <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    Check for a numeric result and print it.
 
    </p>
    <p>if
    (Stack(result).Tag == TYREAL) &nbsp;printf(&quot;The
    result is %g&quot;,result.u.Real);
 
    </p>
    <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    Return the evaluation result.
 
    </p>
    <p>FrameExit(Stack(result));
 
    </p>
    <p>}
 
    </p>    
    </blockquote>
    <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </b>Care must be taken to assure
    that any temporary results are protected from garbage collection.<b>
    </b>The FSmartbase_MarkAndSweep function invokes immediate Analytic Information
    Server garbage collection from C and C++. Unfortunately this will collect
    any temporary Tvals declared inline to the C and C++ function. The following
    macros allow the C and C++ programmer to reserve temporary space on the
    Analytic Information Server stack for storing Tvals. This prevents them from
    being garbage collected.
 
    </p>
    <p><b>StartFrame&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </b>Starts
    an Analytic Information Server Stack frame.<b>
    </b></p>
    <p><b>DeclareTVAL(var)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </b>Starts
    an Analytic Information Server Stack frame.<b>
    </b></p>
    <p><b>EndFrame&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </b>Ends
    an Analytic Information Server Stack frame.<b>
    </b></p>
    <p><b>Stack(var)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </b>Direct
    access to stack variable.<b>
    </b></p>
    <p><b>FrameReset&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </b>Resets
    the Analytic Information Server Stack frame.<b>
    </b></p>
    <p><b>ExitOnError(value)&nbsp;&nbsp;&nbsp;&nbsp;
    </b>If
    value is an error, resets frame and returns value (value must be a Tval).<b>
    </b></p>
    <p><b>FrameExit(value)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </b>Resets
    frame and returns value (value must be a Tval).
 
    </p>
    <p><b>FrameReturn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </b>Resets
    frame, no value returned.        </p>
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_Evals"></A>FSmartbase_Evals</H2></P>        
            <div class="h2section" id="FSmartbase_Evals">
           <p><b>FSmartbase_Evals(CONTEXT*
            gCP,THREAD* gTP,char*&nbsp; theScript,BOLE&nbsp;
            displayResult);</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_Evals</b>
            function compiles and evaluates the Lisp script. There is no limit to the
            size or complexity of the Lisp script. This function always returns a result
            (even if the result is an error code).</p>
            <p>&nbsp;
         
            </p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>char*&nbsp;
                    theScript
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>Lisp script which is to be compiled and evaluated.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>BOLE&nbsp;
                    displayResult
         
                    </b></p>
                  </td>
                  <td>
                    <p>If
                    TRUE, the evaluation result is displayed on the Lisp Console.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>Result
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>return(TVAL)
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    result of evaluating the Lisp script. Regardless of the side
                    effects, evaluating a Lisp script always returns a result value.</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p><b>For
            example:</b></p>    
            <blockquote> 
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>TVAL&nbsp;&nbsp;&nbsp;
            foo(CONTEXT* gCP,THREAD* gTP)
         
            </p>
            <p>{
         
            </p>
            <p>TVAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            result;
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Evaluate a simple arithmetic expression here.
         
            </p>
            <p>result
            = FSmartbase_Evals(gCP,gTP,&quot;(+&nbsp; 1&nbsp;
            2)&quot;,FALSE);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Check for an integer result and print it.
         
            </p>
            <p>if
            (result.Tag == TyINT)&nbsp; printf(&quot;The
            result is %ld&quot;,result.u.Int);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Return the evaluation result.
         
            </p>
            <p>return(result);
         
            </p>
            <p>}
         
            </p>      
            </blockquote> 
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Result is protected from
            Analytic Information Server garbage collection by the FSmartbase_Evals
            function. The method used is to assign result to global variable <b>_currentResult</b>
            before returning to the C program. Obviously, result is gc safe only until
            the next call to FSmartbase_Evals.
         
            </p>
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>The FSmartbase_Evals
            function is not effected by a change in the <b>_parser</b>
            global variable. The FSmartbase_Evals function always uses the <b>lisp</b>
            function, and is therefore, always Lisp aware.    </p>
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_Evalv"></A>FSmartbase_Evalv</H2></P>        
            <div class="h2section" id="FSmartbase_Evalv">
           <p><b>FSmartbase_Evalv(CONTEXT*
            gCP,THREAD* gTP,TVAL&nbsp; theProc,NUM&nbsp;
            argc,TVAL&nbsp; argv[]);</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_Evalv
            </b>function evaluates the specified function against the argument list.
            There is no limit to the size of the argument list. This function always
            returns a result (even if the result is an error code). The arguments are as
            follows:</p>
            <p>&nbsp;
         
            </p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>TVAL&nbsp;
                    theProc
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>function which is to be evaluated.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>NUM&nbsp;
                    argc
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    count of the arguments (may be zero).</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>TVAL&nbsp;
                    argv[]
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    argument list (an array of tagged values).</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>Result
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>return(TVAL)
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    result of evaluating the function. Regardless of the side effects,
                    evaluating a function always returns a result value.</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p>&nbsp;
         
            </p>
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>The FSmartbase_Evalv
            function supports direct inline Analytic Information Server function
            invocations from C and C++. Unlike <b>FSmartbase_Eval</b>
            which requires the argument Tvals to be placed directly inline, <b>FSmartbase_Evalv</b>
            supports a argument list which is an array of Tvals. Of course all arguments
            to Analytic Information Server functions must be tagged values TVAL's;
            therefore, the following conversion macros are supplied in Fsmtbase.h for
            easy inline argument conversion from C data types to Analytic Information
            Server tagged values:
         
            </p>
            <p><b>TBOOL(b)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C boolean into a
            tagged value.<b>
            </b></p>
            <p><b>TCHAR(c)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C character into
            a tagged value.<b>
            </b></p>
            <p><b>TFUNCTION(f)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C function into a
            tagged value.<b>
            </b></p>
            <p><b>TINT(i)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C integer into a
            tagged value.<b>
            </b></p>
            <p><b>TREAL(r)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C real into a
            tagged value.<b>
            </b></p>
            <p><b>TSTRING(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C string into a
            tagged value.<b>
            </b></p>
            <p><b>TSYMBOL(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C string into a
            symbol tagged value.<b>
            </b></p>
            <p><b>TQSYMBOL(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C string into a
            quoted symbol tagged value.<b>
            </b></p>
            <p><b>TGVALUE(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C string into the
            global value of the symbol.
         
            </p>
            <p><b>&nbsp;
         
            </b></p>
            <p><b>For
            example:</b></p>    
            <blockquote> 
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>static
            TVAL theProc;
         
            </p>
            <p>TVAL&nbsp;&nbsp;&nbsp;
            foo(CONTEXT* gCP,THREAD* gTP)
         
            </p>
            <p>{
         
            </p>
            <p>StartFrame
         
            </p>
            <p>DeclareTVAL(result);
         
            </p>
            <p>DeclareTVAL(args);
         
            </p>
            <p>EndFrame
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Compile a simple arithmetic function here.
         
            </p>
            <p>if
            (theProc.Tag == TyVOID)
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            theProc = FSmartbase_Evals(gCP,gTP,&quot;(defun myProc(n) (++&nbsp;
            n))&quot;,FALSE);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Evaluate a simple arithmetic function here.
         
            </p>
            <p>Stack(args)
            = TINT(22);
         
            </p>
            <p>Stack(result)
            = FSmartbase_Evalv(gCP,gTP,theProc,1,&amp;args);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Check for an integer result and print it.
         
            </p>
            <p>if
            (Stack(result).Tag == TYNUM)
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            printf(&quot;The result is %ld&quot;,Stack(result).u.Int);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Return the evaluation result.
         
            </p>
            <p>FrameExit(Stack(result));
         
            </p>
            <p>}
         
            </p>      
            </blockquote> 
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Care must be taken to assure
            that any temporary results are protected from garbage collection.<b>
            </b>The FSmartbase_MarkAndSweep function invokes immediate Analytic Information
            Server garbage collection from C and C++. Unfortunately this will collect
            any temporary Tvals declared inline to the C and C++ function. The following
            macros allow the C and C++ programmer to reserve temporary space on the
            Analytic Information Server stack for storing Tvals. This prevents them from
            being garbage collected.
         
            </p>
            <p><a name="_Toc350173594"><b>StartFrame&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b></a>Starts
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>DeclareTVAL(var)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Starts
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>EndFrame&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Ends
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>Stack(var)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Direct
            access to stack variable.<b>
            </b></p>
            <p><b>FrameReset&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            the Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>ExitOnError(value)&nbsp;&nbsp;&nbsp;&nbsp;
            </b>If
            value is an error, resets frame and returns value (value must be a Tval).<b>
            </b></p>
            <p><b>FrameExit(value)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            frame and returns value (value must be a Tval).
         
            </p>
            <p><b>FrameReturn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            frame, no value returned.   </p>
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_FreeMemory"></A>FSmartbase_FreeMemory</H2></P>        
            <div class="h2section" id="FSmartbase_FreeMemory">
            <p><b>FSmartbase_FreeMemory(CONTEXT*
            gCP,THREAD* gTP,HMemory theMemory);</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_FreeMemory
            </b>function returns to the engine a memory block.&nbsp;
            While it is not recommended for the application to make explicit
            calls into the Engine's memory manager, it may be necessary or desirable to
            do so in some cases.</p>
            <p>&nbsp;
         
            </p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>HMemory&nbsp;
                    theMemory
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>memory block to return.</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p>&nbsp;
         
            </p>
            <p><b>For
            example:</b></p>       
            <blockquote> 
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>TVAL&nbsp;&nbsp;&nbsp;
            foo(CONTEXT* gCP,THREAD* gTP,char*&nbsp;
            aString)
         
            </p>
            <p>{
         
            </p>
            <p>HMemory&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            theString;
         
            </p>
            <p>StartFrame
         
            </p>
            <p>DeclareTVAL(result);
         
            </p>
            <p>EndFrame
         
            </p>
            <p>&nbsp;
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Create a result value by evaluating a Lisp expression.
         
            </p>
            <p>theString
            = FSmartbase_NewMemory(gCP,gTP,strlen(aString) + 1);
         
            </p>
            <p>strcpy(*theString,aString);
         
            </p>
            <p>Stack(result)
            = FSmartbase_Evals(gCP,gTP,*theString,FALSE);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Free the memory which held the string.
         
            </p>
            <p>FSmartbase_FreeMemory(gCP,gTP,theString);
         
            </p>
            <p>FrameExit(Stack(result));
         
            </p>
            <p>}
         
            </p>        
            </blockquote> 
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>The memory block must
            originally have been requested from the Engine's memory manager (see the
            FSmartbase_NewMemory function).     </p>
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_GetObjectID"></A>FSmartbase_GetObjectID</H2></P>        
            <div class="h2section" id="FSmartbase_GetObjectID">
            <p><b>FSmartbase_GetObjectID(CONTEXT*
            gCP,THREAD* gTP,TVAL anObject);</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_GetObjectID</b>
            function returns the integer id of the specified object value. This function
            always returns a result (even if the result is an error code).</p>
            <p>&nbsp;</p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>TVAL&nbsp;
                    anObject
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>text of the symbol whose value is retrieved.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>Result
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>return(NUM)
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    integer id of the specified object.</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p><b>&nbsp;
         
            </b></p>
            <p><b>For
            example:</b></p>     
            <blockquote> 
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>NUM&nbsp;&nbsp;&nbsp;&nbsp;
            foo(CONTEXT* gCP,THREAD* gTP)
         
            </p>
            <p>{
         
            </p>
            <p>NUM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            objectID;
         
            </p>
            <p>StartFrame
         
            </p>
            <p>DeclareTVAL(result);
         
            </p>
            <p>EndFrame
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Return the current workspace object.
         
            </p>
            <p>Stack(result)
            = FSmartbase_Evals(gCP,gTP,&quot;_currentWorkspace&quot;);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Check for an integer result and print it.
         
            </p>
            <p>objectID
            = FSmartbase_GetObjectID(gCP,gTP,Stack(result));
         
            </p>
            <p>printf(&quot;The
            workspace object is %ld&quot;,objectID);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Return the workspace object id.
         
            </p>
            <p>FrameExit(objectID);
         
            </p>
            <p>}
         
            </p>      
            </blockquote> 
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Care must be taken to assure
            that any temporary results are protected from garbage collection.<b>
            </b>The FSmartbase_MarkAndSweep function invokes immediate Analytic Information
            Server garbage collection from C and C++. Unfortunately this will collect
            any temporary Tvals declared inline to the C and C++ function. The following
            macros allow the C and C++ programmer to reserve temporary space on the
            Analytic Information Server stack for storing Tvals. This prevents them from
            being garbage collected.
         
            </p>
            <p><a name="_Toc350173596"><b>StartFrame&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b></a>Starts
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>DeclareTVAL(var)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Starts
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>EndFrame&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Ends
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>Stack(var)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Direct
            access to stack variable.<b>
            </b></p>
            <p><b>FrameReset&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            the Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>ExitOnError(value)&nbsp;&nbsp;&nbsp;&nbsp;
            </b>If
            value is an error, resets frame and returns value (value must be a Tval).<b>
            </b></p>
            <p><b>FrameExit(value)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            frame and returns value (value must be a Tval).
         
            </p>
            <p><b>FrameReturn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            frame, no value returned.        </p>
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_GetSymbolValue"></A>FSmartbase_GetSymbolValue</H2></P>        
            <div class="h2section" id="FSmartbase_GetSymbolValue">
            <p><b>FSmartbase_GetSymbolValue(CONTEXT*
            gCP,THREAD* gTP,LpCHAR aSymbol);</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_GetSymbolValue</b>
            function returns the value of the specified symbol. This function always
            returns a result (even if the result is an error code).</p>
            <p>&nbsp;</p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>LpCHAR&nbsp;
                    aSymbol
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>text of the symbol whose value is retrieved.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>Result
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>return(TVAL)
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    value of the specified symbol.</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p><b>&nbsp;
         
            </b></p>
            <p><b>For
            example:</b></p>         
            <blockquote> 
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>TVAL
            foo(CONTEXT* gCP,THREAD* gTP)
         
            </p>
            <p>{
         
            </p>
            <p>StartFrame
         
            </p>
            <p>DeclareTVAL(theProc);
         
            </p>
            <p>DeclareTVAL(result);
         
            </p>
            <p>DeclareTVAL(arg1);
         
            </p>
            <p>DeclareTVAL(arg2);
         
            </p>
            <p>EndFrame
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Compile a simple arithmetic function here.
         
            </p>
            <p>Stack(theProc)
            = FSmartbase_GetSymbolValue(gCP,gTP,&quot;+&quot;);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Evaluate a simple arithmetic function here.
         
            </p>
            <p>Stack(arg1)
            = TINT(22);
         
            </p>
            <p>Stack(arg2)
            = TINT(-24);
         
            </p>
            <p>Stack(result)
            = FSmartbase_Eval(gCP,gTP,Stack(theProc),2,arg1,arg2);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Check for an integer result and print it.
         
            </p>
            <p>if
            (Stack(result).Tag == TYNUM)
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            printf(&quot;The result is %ld&quot;,Stack(result).u.Int);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Return the evaluation result.
         
            </p>
            <p>FrameExit(Stack(result));
         
            </p>
            <p>}
         
            </p>   
            </blockquote> 
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Care must be taken to assure
            that any temporary results are protected from garbage collection.<b>
            </b>The FSmartbase_MarkAndSweep function invokes immediate Analytic Information
            Server garbage collection from C and C++. Unfortunately this will collect
            any temporary Tvals declared inline to the C and C++ function. The following
            macros allow the C and C++ programmer to reserve temporary space on the
            Analytic Information Server stack for storing Tvals. This prevents them from
            being garbage collected.
         
            </p>
            <p><a name="_Toc350173597"><b>StartFrame&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b></a>Starts
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>DeclareTVAL(var)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Starts
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>EndFrame&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Ends
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>Stack(var)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Direct
            access to stack variable.<b>
            </b></p>
            <p><b>FrameReset&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            the Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>ExitOnError(value)&nbsp;&nbsp;&nbsp;&nbsp;
            </b>If
            value is an error, resets frame and returns value (value must be a Tval).<b>
            </b></p>
            <p><b>FrameExit(value)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            frame and returns value (value must be a Tval).
         
            </p>
            <p><b>FrameReturn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            frame, no value returned.      </p>
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_GetSymbolValuePtr"></A>FSmartbase_GetSymbolValuePtr</H2></P>        
            <div class="h2section" id="FSmartbase_GetSymbolValuePtr">
                <p><b>FSmartbase_GetSymbolValuePtr(CONTEXT*
            gCP,THREAD* gTP,LpCHAR aSymbol,BOLE perm);</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_GetSymbolValuePtr</b>
            function returns a pointer to the value of the specified symbol. This
            function always returns a result (even if the result is a NIL pointer). If
            the specified symbol is constrained (see functional programming), this
            function will return a NIL pointer.</p>
            <p>The
            specified symbol can be marked permanent (perm == TRUE) or not permanent
            (perm == FALSE). If the symbol is marked permanent, it will never be garbage
            collected. If the symbol is marked not permanent, it may be garbage
            collected leaving the returned pointer invalid.</p>
            <p>&nbsp;
         
            </p>
            <p><b>Note</b>:
            it is safest to mark the symbol permanent.
         
            </p>
            <p>&nbsp;
         
            </p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>LpCHAR&nbsp;
                    aSymbol
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>text of the symbol whose value pointer is returned.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>Bole
                    perm
         
                    </b></p>
                  </td>
                  <td>
                    <p>Flag
                    used to mark symbol as Permanent (perm = TRUE) or not permanent
                    (perm = False)</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>Result
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>return(TVAL*)
         
                    </b></p>
                  </td>
                  <td>
                    <p>A
                    pointer to the value of the specified symbol.</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p><b>For
            example:</b></p>   
            <blockquote> 
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>TVAL&nbsp;&nbsp;&nbsp;
            foo(CONTEXT* gCP,THREAD* gTP)
         
            </p>
            <p>{
         
            </p>
            <p>TVAL*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            theProc;
         
            </p>
            <p>StartFrame
         
            </p>
            <p>DeclareTVAL(result);
         
            </p>
            <p>DeclareTVAL(arg1);
         
            </p>
            <p>DeclareTVAL(arg2);
         
            </p>
            <p>EndFrame
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Compile a simple arithmetic function here.
         
            </p>
            <p>theProc
            = FSmartbase_GetSymbolValuePtr(&quot;+&quot;,TRUE);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Evaluate a simple arithmetic function here.
         
            </p>
            <p>Stack(arg1)
            = TINT(22);
         
            </p>
            <p>Stack(arg2)
            = TINT(-24);
         
            </p>
            <p>Stack(result)
            = FSmartbase_Eval(gCP,gTP,*theProc,2,arg1,arg2);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Check for an integer result and print it.
         
            </p>
            <p>if
            (Stack(result).Tag == TYNUM)
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            printf(&quot;The result is %ld&quot;,Stack(result).u.Int);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Return the evaluation result.
         
            </p>
            <p>FrameExit(Stack(result));
         
            </p>
            <p>}
         
            </p>   
            </blockquote> 
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Care must be taken to assure
            that any temporary results are protected from garbage collection.<b>
            </b>The FSmartbase_MarkAndSweep function invokes immediate Analytic Information
            Server garbage collection from C and C++. Unfortunately this will collect
            any temporary Tvals declared inline to the C and C++ function. The following
            macros allow the C and C++ programmer to reserve temporary space on the
            Analytic Information Server stack for storing Tvals. This prevents them from
            being garbage collected.
         
            </p>
            <p><a name="_Toc350173598"><b>StartFrame&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b></a>Starts
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>DeclareTVAL(var)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Starts
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>EndFrame&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Ends
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>Stack(var)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Direct
            access to stack variable.<b>
            </b></p>
            <p><b>FrameReset&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            the Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>ExitOnError(value)&nbsp;&nbsp;&nbsp;&nbsp;
            </b>If
            value is an error, resets frame and returns value (value must be a Tval).<b>
            </b></p>
            <p><b>FrameExit(value)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            frame and returns value (value must be a Tval).
         
            </p>
            <p><b>FrameReturn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            frame, no value returned. </p>
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_InstructionTrace"></A>FSmartbase_InstructionTrace</H2></P>        
            <div class="h2section" id="FSmartbase_InstructionTrace">
            <p><b>NUM
            FSmartbase_InstructionTrace(CONTEXT* gCP,THREAD* gTP,NUM toggleSwitch);</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_InstructionTrace
            </b>function returns one if we are in instruction trace mode.</p>
            <p>&nbsp;
         
            </p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>toggleSwitch
         
                    </b></p>
                  </td>
                  <td>
                    <p>One
                    to set Instruction Trace mode on.</p>
                    <p>Zero
                    to set Instruction Trace mode off.</p>
                    <p>Minus
                    one to view Instruction Trace setting.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>return(NUM)
         
                    </b></p>
                  </td>
                  <td>
                    <p>One
                    if we are in Instruction Trace mode; otherwise zero.</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p><b>For
            example:</b></p>    
            <blockquote> 
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>void&nbsp;&nbsp;
            foo(CONTEXT* gCP,THREAD* gTP)
         
            </p>
            <p>{
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Check to see if we are in debug mode.
         
            </p>
            <p>if&nbsp;
            (FSmartbase_InstructionTrace(gCP,gTP,-1))
            printf(&quot;We are in instruction trace mode.&quot;);
         
            </p>
            <p>...
         
            </p>
            <p>}    </p>
               </blockquote> 
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_MakeCFunction"></A>FSmartbase_MakeCFunction</H2></P>        
            <div class="h2section" id="FSmartbase_MakeCFunction">
           <p><b>FSmartbase_MakeCFunction(CONTEXT*
            gCP,THREAD* gTP,LpFUNC lpFunc);</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_MakeCFunction
            </b>function converts a C function into a TVAL. In other words, the C
            function is inserted into a Tagged Value (TVAL) structure, so that the <b>eval</b>
            function can evaluate C function properly.</p>
            <p>&nbsp;
         
            </p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>LpFUNC&nbsp;
                    lpFunc
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>name of a C function which is to be converted into a tagged
                    value.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>Result
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>return(TVAL)
         
                    </b></p>
                  </td>
                  <td>
                    <p>Returns
                    a TVAL</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p><b>For
            example:</b></p>  
            <blockquote> 
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>TVAL&nbsp;&nbsp;&nbsp;
            foo(CONTEXT* gCP,THREAD* gTP)
         
            </p>
            <p>{
         
            </p>
            <p>TVAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            result;
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Register a new C function here.
         
            </p>
            <p>result
            = FSmartbase_MakeCFunction(gCP,gTP,(LpFUNC)&amp;myFunc);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Check for an error result and print it.
         
            </p>
            <p>if
            (result.Tag == TYERROR)&nbsp; printf(&quot;The
            error is %s&quot;,result.u.Text);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Return the evaluation result.
         
            </p>
            <p>return(result);
         
            </p>
            <p>}
         
            </p>         
            </blockquote> 
            <p><b>Note</b>:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Any&nbsp; C Function
            registered in this manner should expect a variable number of arguments: the
            argument count and an argument vector.
         
            </p>
            <p><b>For
            example
         
            </b></p>  
            <blockquote> 
            <p>TVAL&nbsp;&nbsp;&nbsp;
            myFunc(CONTEXT* gCP,THREAD* gTP,NUM argc,TVAL argv[])
         
            </p>
            <p>{
         
            </p>
            <p>...
         
            </p>
            <p>return(TObject_TRUE);
         
            </p>
            <p>}</p>     
            </blockquote> 
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_MarkAndSweep"></A>FSmartbase_MarkAndSweep</H2></P>        
            <div class="h2section" id="FSmartbase_MarkAndSweep">
                 <p><b>FSmartbase_MarkAndSweep(CONTEXT*
            gCP,THREAD* gTP);</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_MarkAndSweep
            </b>function signals the engine to perform a garbage collection.&nbsp;
            While it is not necessary for the application to make explicit calls
            in order for garbage collection to take place, it may be desirable to do so
            in order to avoid collections at inopportune times. There are no arguments,
            and there is a void return.</p>
            <p>&nbsp;
         
            </p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>return(TVAL)
         
                    </b></p>
                  </td>
                  <td>
                    <p>Returns
                    a TVAL</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p><b>For
            example:</b></p>      
            <blockquote> 
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>TVAL
            foo(CONTEXT* gCP,THREAD* gTP)
         
            </p>
            <p>{
         
            </p>
            <p>TVAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            result;
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Create a result value by evaluating a Lisp expression.
         
            </p>
            <p>result
            = FSmartbase_Evals(gCP,gTP,&quot;(makeSpreadsheet)&quot;,FALSE);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Force the engine to perform a garbage collection.
         
            </p>
            <p>FSmartbase_MarkAndSweep(gCP,gTP);
         
            </p>
            <p>...
         
            </p>
            <p>return(result);
         
            </p>
            <p>}
         
            </p>      
            </blockquote> 
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Result is not protected from
            Analytic Information Server garbage collection. Care must be taken to assure
            that any temporary results are gc protected.<b>
            </b>The FSmartbase_MarkAndSweep function invokes immediate Analytic Information
            Server garbage collection from C and C++. Unfortunately this will collect
            any temporary Tvals declared inline to the C and C++ function (such as the <b>result</b>
            temporary Tval shown above). The following macros allow the C and C++
            programmer to reserve temporary space on the Analytic Information Server stack
            for storing Tvals. This prevents them from being garbage collected.
         
            </p>
            <p><b>StartFrame&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Starts
            a Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>DeclareTVAL(var)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Starts
            a Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>EndFrame&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Ends
            a Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>Stack(var)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Direct
            access to stack variable.<b>
            </b></p>
            <p><b>FrameReset&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            the Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>ExitOnError(value)&nbsp;&nbsp;&nbsp;&nbsp;
            </b>If
            value is an error, resets frame and returns value (value must be a Tval).<b>
            </b></p>
            <p><b>FrameExit(value)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            frame and returns value (value must be a Tval).
         
            </p>
            <p><b>FrameReturn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            frame and returns no value
         
            </p>
            <p><b>For
            example:</b></p>   
            <blockquote> 
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>TVAL&nbsp;&nbsp;&nbsp;
            foo(CONTEXT* gCP,THREAD* gTP)
         
            </p>
            <p>{
         
            </p>
            <p>StartFrame
         
            </p>
            <p>DeclareTVAL(result);
         
            </p>
            <p>EndFrame
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Create a result value by evaluating a Lisp expression.
         
            </p>
            <p>Stack(result)
            = FSmartbase_Evals(gCP,gTP,&quot;(makeSpreadsheet)&quot;,FALSE);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Force the engine to perform a garbage collection.
         
            </p>
            <p>FSmartbase_MarkAndSweep(gCP,gTP);
         
            </p>
            <p>...
         
            </p>
            <p>FrameExit(Stack(result));
         
            </p>
            <p>}
         
            </p>        
            </blockquote> 
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Result is now protected from
            Analytic Information Server garbage collection. Care must be taken to assure
            that a FrameReset is issued before returning from the C function (both
            FrameExit and FrameChk issue FrameResets internally). </p>
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_MarkTval"></A>FSmartbase_MarkTval</H2></P>        
            <div class="h2section" id="FSmartbase_MarkTval">
           <p><b>FSmartbase_MarkTval(CONTEXT*
            gCP,THREAD* gTP,TVAL aTval );</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_MarkTval</b>
            function performs a deep mark during the mark and sweep phase, i.e., it
            marks all the elements in an aggregate type, such as an Object Vector,
            Dictionary, Directory, etc.&nbsp; For
            a shallow mark see <b>FSmartbase_MarkTvalShallow.</b></p>
            <p>&nbsp;</p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>TVAL
                    aTval
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    Tval to be marked</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>return(void)
         
                    </b></p>
                  </td>
                  <td>
                    <p>Returns
                    a void</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p>&nbsp;
         
            </p>
            <p><b>For
            example:</b></p>       
            <blockquote> 
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>TVAL&nbsp;&nbsp;&nbsp;
            foo(CONTEXT* gCP,THREAD* gTP,char*&nbsp;
            aString)
         
            </p>
            <p>{
         
            </p>
            <p>HMemory&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            theString;
         
            </p>
            <p>StartFrame
         
            </p>
            <p>DeclareTVAL(result);
         
            </p>
            <p>EndFrame
         
            </p>
            <p>&nbsp;
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Create a result value by evaluating a Lisp expression.
         
            </p>
            <p>theString
            = FSmartbase_NewMemory(gCP,gTP,strlen(aString) + 1);
         
            </p>
            <p>strcpy(*theString,aString);
         
            </p>
            <p>Stack(result)
            = FSmartbase_Evals(gCP,gTP,*theString,FALSE);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Free the memory which held the string.
         
            </p>
            <p>FSmartbase_FreeMemory(gCP,gTP,theString);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Mark the memory which held the result.
         
            </p>
            <p>MarkTval(gCP,gTP,Stack(result));
         
            </p>
            <p>FrameExit(Stack(result));
         
            </p>
            <p>}
         
            </p>    
            </blockquote> 
            <p><b>&nbsp;
         
            </b></p>
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>The memory block must
            eventually be returned to the Engine's memory manager (see the
            FSmartbase_FreeMemory function).    </p>
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_MarkTvalShallow"></A>FSmartbase_MarkTvalShallow</H2></P>        
            <div class="h2section" id="FSmartbase_MarkTvalShallow">
               <p><b>FSmartbase_MarkTvalShallow(CONTEXT*
            gCP,THREAD* gTP,TVAL aTval );</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_MarkTvalShallow</b>
            function performs a shallow mark during the mark and sweep phase, i.e., it
            marks only the top level type in an aggregate type, such as an Object
            Vector, Dictionary, Directory, etc, but not its member elements.&nbsp;
            For a deep mark, see <b>FSmartbase_MarkTval.</b></p>
            <p>&nbsp;</p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>TVAL
                    aTval
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    Tval to be marked</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>return(void)
         
                    </b></p>
                  </td>
                  <td>
                    <p>Returns
                    a void</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p>&nbsp;
         
            </p>
            <p><b>For
            example:</b></p> 
            <blockquote> 
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>TVAL&nbsp;&nbsp;&nbsp;
            foo(CONTEXT* gCP,THREAD* gTP,char*&nbsp;
            aString)
         
            </p>
            <p>{
         
            </p>
            <p>HMemory&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            theString;
         
            </p>
            <p>StartFrame
         
            </p>
            <p>DeclareTVAL(result);
         
            </p>
            <p>EndFrame
         
            </p>
            <p>&nbsp;
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Create a result value by evaluating a Lisp expression.
         
            </p>
            <p>theString
            = FSmartbase_NewMemory(gCP,gTP,strlen(aString) + 1);
         
            </p>
            <p>strcpy(*theString,aString);
         
            </p>
            <p>Stack(result)
            = FSmartbase_Evals(gCP,gTP,*theString,FALSE);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Free the memory which held the string.
         
            </p>
            <p>FSmartbase_FreeMemory(gCP,gTP,theString);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Mark the memory which held the result.
         
            </p>
            <p>MarkTvalShallow(gCP,gTP,Stack(result));
         
            </p>
            <p>FrameExit(Stack(result));
         
            </p>
            <p>}
         
            </p>      
            </blockquote> 
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>The memory block must
            eventually be returned to the Engine's memory manager (see the
            FSmartbase_FreeMemory function).</p> 
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_NewMemory"></A>FSmartbase_NewMemory</H2></P>        
            <div class="h2section" id="FSmartbase_NewMemory">
              <p><b>FSmartbase_NewMemory(CONTEXT*
            gCP,THREAD* gTP,NUM theSize);</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_NewMemory
            </b>function requests the engine to return a memory block of the specified
            size.&nbsp; While it is not
            recommended for the application to make explicit calls into the Engine's
            memory manager, it may be necessary or desirable to do so in some cases.</p>
            <p>&nbsp;</p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>NUM&nbsp;
                    theSize
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>size of the memory block requested</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>return(HMemory)
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    memory block to be returned.</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p>&nbsp;
         
            </p>
            <p><b>For
            example:</b></p>          
            <blockquote> 
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>TVAL
            foo(CONTEXT* gCP,THREAD* gTP,char*&nbsp;
            aString)
         
            </p>
            <p>{
         
            </p>
            <p>HMemory&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            theString;
         
            </p>
            <p>StartFrame
         
            </p>
            <p>DeclareTVAL(result);
         
            </p>
            <p>EndFrame
         
            </p>
            <p>&nbsp;
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Create a result value by evaluating a Lisp expression.
         
            </p>
            <p>theString
            = FSmartbase_NewMemory(gCP,gTP,strlen(aString) + 1);
         
            </p>
            <p>strcpy(*theString,aString);
         
            </p>
            <p>Stack(result)
            = FSmartbase_Evals(gCP,gTP,*theString,FALSE);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Free the memory which held the string.
         
            </p>
            <p>FSmartbase_FreeMemory(gCP,gTP,theString);
         
            </p>
            <p>FrameExit(Stack(result));
         
            </p>
            <p>}
         
            </p>     
            </blockquote> 
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>The memory block must
            eventually be returned to the Engine's memory manager (see the
            FSmartbase_FreeMemory function).</p>
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_NewType"></A>FSmartbase_NewType</H2></P>        
            <div class="h2section" id="FSmartbase_NewType">
            <p><b>TYPE
            FSmartbase_NewType( CONTEXT*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            gCP,
         
            </b></p>
            <p><b>THREAD*
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            gTP,
         
            </b></p>
            <p><b>TYPE&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            theType,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp; &nbsp;
         
            </b></p>
            <p><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            LpCHAR &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            aTypeName</b>,</p>
            <p><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            CHAR &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            flag,
         
            </b></p>
            <p><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            NUM &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            aTypeSize,
         
            </b></p>
            <p><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            LpFNEW &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            aNewFunction,
         
            </b></p>
            <p><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            LpFMARK &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            aMarkFunction,
         
            </b></p>
            <p><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            LpFGMARK &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            aGlobalMarkFunction,
         
            </b></p>
            <p><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            LpFCONVERT &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            aCnvFunction,
         
            </b></p>
            <p><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            LpF2TVALS &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            aCmpFunction,
         
            </b></p>
            <p><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            LpF3TVALS &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            aSetIV1Function,
         
            </b></p>
            <p><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            LpF4TVALS &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            aSetIV2Function,
         
            </b></p>
            <p><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            LpF5TVALS &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            aSetIV3Function,
         
            </b></p>
            <p><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            LpF2TVALS &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            aGetIV1Function,
         
            </b></p>
            <p><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            LpF3TVALS &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            aGetIV2Function,
         
            </b></p>
            <p><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            LpF4TVALS &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            aGetIV3Function,
         
            </b></p>
            <p><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            LpF2TVALS &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            aMapFunction,
         
            </b></p>
            <p><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            LpF2TVALS &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            aMapcFunction,
         
            </b></p>
            <p><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            LpFPRINT &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            aPrintFunction,
         
            </b></p>
            <p><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            LpFNLOAD &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            LoadFunction,
         
            </b></p>
            <p><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            LpFNSAVE &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            aSaveFunction,
         
            </b></p>
            <p><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            LpFCOMPUTESIZE &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            aComputeSizeFunction,
         
            </b></p>
            <p><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            LpFCOPY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            aCopyFunction,
         
            </b></p>
            <p><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            LpFDOOM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            aDoomFunction);
         
            </b></p>
            <p><b>&nbsp;
         
            </b></p>
            <p>&nbsp;
         
            </p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_NewType
            </b>function registers a new External Type to the Analytic Information Server
            engine. Each type must have a type identifier (an Integer) and a type name
            (a string) and pointers to functions that the engine needs to support the
            new type. These functions represent the built-in handlers that automatically
            are entered in the Virtual Machine instruction during the compilation phase.&nbsp;
            A description of all the arguments follow:</p>
            <p>&nbsp;</p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p><b>Description</b></p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>TYPE
                    theType
         
                    </b></p>
                  </td>
                  <td>
                    <p>An
                    Integer representing a type tag.&nbsp;
                    Currently, the only external type that Analytic Information
                    Server supports is a Host Object, which has a type tag of
                    TYHOSTOBJECT.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>LpCHAR
                    aTypeName
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    name of the type expressed as a string.&nbsp;&nbsp;
                    Currently, the only external type that Analytic Information
                    Server supports is a Host Object, which is type &quot;HOSTOBJECT&quot;
                    .</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CHAR&nbsp;
                    flag
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    type flag.&nbsp; In the case
                    of type HostObject, the type flag is _TObject_TfTOBJECT.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>NUM&nbsp;
                    aTypeSize
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    size of the type. In the case of type HostObject&quot;, the type
                    size is sizeof(OBJ).</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>LpFNEW&nbsp;&nbsp;
                    aNewFunction
         
                    </b></p>
                  </td>
                  <td>
                    <p>A
                    pointer to the function that handles the &quot;new&quot; operator.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>LpFMARK
                    aMarkFunction
         
                    </b></p>
                  </td>
                  <td>
                    <p>A
                    pointer to the function that handles marking the objects belonging
                    to the External Type, so that the mark and sweep operation does not
                    dispose of the type.&nbsp; See
                    the <b>Fsmartbase_MarkTval,
                    Fsmartbase_MarkTvalShallow, Fsmartbase_MarkAndSweep</b> API
                    functions.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>LpFGMARK
                    aGlobalMarkFunction
         
                    </b></p>
                  </td>
                  <td>
                    <p>A
                    pointer to the function that handles marking global objects
                    belonging to the External Type, so that the mark and sweep operation
                    does not dispose of the type.&nbsp; See
                    the <b>Fsmartbase_MarkTval,
                    Fsmartbase_MarkTvalShallow,&nbsp; Fsmartbase_MarkAndSweep</b>
                    API functions.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>LpFCONVERT
                    aCnvFunction
         
                    </b></p>
                  </td>
                  <td>
                    <p>A
                    pointer to a function handling the conversion of other types to the
                    type of HostObject.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>LpF2TVALS
                    aCmpFunction
         
                    </b></p>
                  </td>
                  <td>
                    <p>A
                    pointer to a function handling the comparison of other types to the
                    type of HostObject</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>LpF3TVALS
                    aSetIV1Function
         
                    </b></p>
                  </td>
                  <td>
                    <p>A
                    pointer to a function handling the assigning of a new value (setq)
                    to a member in the HostObject using a single index.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>LpF4TVALS
                    aSetIV2Function
         
                    </b></p>
                  </td>
                  <td>
                    <p>A
                    pointer to a function handling the assignment operation (setq) to a
                    member in the HostObject using two indices.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>LpF5TVALS
                    aSetIV3Function
         
                    </b></p>
                    <p>&nbsp;<b>
                    </b></p>
                  </td>
                  <td>
                    <p>A
                    pointer to a function handling the assignment operation (setq) to a
                    member in the &quot;HOSTOBJECT&quot; using three indices.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>LpF2TVALS
                    aGetIV1Function
         
                    </b></p>
                  </td>
                  <td>
                    <p>A
                    pointer to a function handling the retrieval (ref) of the value of a
                    member in the &quot;HOSTOBJECT&quot; using a single index.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>LpF3TVALS
                    aGetIV2Function
         
                    </b></p>
                    <p>&nbsp;<b>
                    </b></p>
                  </td>
                  <td>
                    <p>A
                    pointer to a function handling the retrieval (ref) of the value of a
                    member in the &quot;HOSTOBJECT&quot; using two indices.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>LpF4TVALS
                    aGetIV3Function
         
                    </b></p>
                    <p>&nbsp;<b>
                    </b></p>
                  </td>
                  <td>
                    <p>A
                    pointer to a function handling the retrieval (ref) of the value of a
                    member in the &quot;HOSTOBJECT&quot; &quot; using three indices.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>LpF2TVALS
                    aMapFunction
         
                    </b></p>
                  </td>
                  <td>
                    <p>A
                    pointer to a function handling the lisp <b>map</b>
                    function.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>LpF2TVALS
                    aMapcFunction
         
                    </b></p>
                  </td>
                  <td>
                    <p>A
                    pointer to a function handling the lisp <b>mapc</b>
                    function.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>LpFPRINT
                    aPrintFunction
         
                    </b></p>
                  </td>
                  <td>
                    <p>A
                    pointer to a function handling printing the HostObject</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>LpFNLOAD
                    LoadFunction
         
                    </b></p>
                  </td>
                  <td>
                    <p>A
                    pointer to a function handling loading the HostObject after it has
                    been previously saved in a Repository.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>LpFNSAVE
                    aSaveFunction
         
                    </b></p>
                  </td>
                  <td>
                    <p>A
                    pointer to a function handling the saving of the HostObject into a
                    Repository.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>LpFCOMPUTESIZE
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    aComputeSizeFunction
         
                    </b></p>
                  </td>
                  <td>
                    <p>A
                    pointer to a function that computes the size of a buffer to save the
                    HostObject in a Repository</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>LpFCOPY
                    aCopyFunction
         
                    </b></p>
                  </td>
                  <td>
                    <p>A
                    pointer to a function that handles making a copy of&nbsp;
                    HostObject</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>LpFDOOM
                    aDoomFunction
         
                    </b></p>
                  </td>
                  <td>
                    <p>A
                    pointer to a function that handles destroying the&nbsp;
                    HostObject</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>Return(TYPE)
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    type identifier of the newly registered type</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p>&nbsp;
         
            </p>
            <p><b>For
            example:</b></p>  
            <blockquote> 
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>TYPE
            FSmartbase_NewType(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            gCP,
         
            </p>
            <p>GTP,
         
            </p>
            <p>TYHOSTOBJECT,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp; &nbsp;
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &quot;HostObject&quot;,
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            _TObject_TfTOBJECT,
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            sizeof(OBJ),
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            (LpFNEW)&amp;THostObj_MakeHostobj,
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &amp;THostObj_Mark,
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &amp;THostObj_GlobalMark,
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &amp;THostObj_HostAnyCnvNever,
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &amp;THostObj_HostAnyCmp,
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &amp;THostObj_SetIV1,
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &amp;THostObj_SetIV2Never,
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &amp;THostObj_SetIV3Never,
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &amp;THostObj_GetIV1,
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &amp;THostObj_GetIV2Never,
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &amp;THostObj_GetIV3Never,
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &amp;THostObj_MapNever,
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &amp;THostObj_MapcNever,
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &amp;THostObj_Print,
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &amp;THostObj_Load,
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &amp;THostObj_Save,
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &amp;THostObj_ComputeSize,
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &amp;THostObj_Copy,
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &amp;THostObj_Doomed);
         
            </p>
            <p>&nbsp;
         
            </p>   
            </blockquote> 
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Each of the functions have a
            required prototype.&nbsp; They are
            individually described in the section: &quot;How to construct a HostObject&quot;.&nbsp;
            It is reasonable that a type may not support all of the built-in
            handlers, ie, in some cases they may not be meaningful. It is still required
            to have a function defined as a argument to the Fsmartbase_NewType with the
            proper prototype and return value, but the function may be coded to simply
            return a void value. It is a useful naming convention to add the suffix
            &quot;Never&quot; to the name of these &quot;dummy&quot; functions.</p>
                  </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_OperatorNew"></A>FSmartbase_OperatorNew</H2></P>        
            <div class="h2section" id="FSmartbase_OperatorNew">
            <p><b>FSmartbase_OperatorNew(CONTEXT*
            gCP,THREAD* gTP,NUM objSize);</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_OperatorNew&nbsp;
            </b>function<b> </b>is used to
            dynamically allocate memory for an object of size <b>objSize.&nbsp;
            </b>This object will be managed by the mark and sweep functions of
            the Analytic Information Server engine.</p>
            <p>&nbsp;</p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>NUM
                    objSize
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    size of the object to be allocated</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>Result
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>return(void
                    *)
         
                    </b></p>
                  </td>
                  <td>
                    <p>A
                    pointer to the memory allocated for the object</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p><b>For
            example:</b></p>  
            <blockquote> 
            <p>THostObject*&nbsp;&nbsp;&nbsp;
            THostObj_New(gCP,gTP)
         
            </p>
            <p>{
         
            </p>
            <p>StartFrame
         
            </p>
            <p>DeclareOBJ(THostObject,self);
         
            </p>
            <p>EndFrame
         
            </p>
            <p>self
            = (THostObject*)FSmartbase_OperatorNew(gCP,gTP,sizeof(THostObject) );
         
            </p>
            <p>self-&gt;itsObjectType
            = TYHOSTOBJECT;
         
            </p>
            <p>self-&gt;itsIUnknownPtr
            = NIL;
         
            </p>
            <p>FrameExit(self);
         
            </p>
            <p>}    </p>
             </blockquote> 
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_recNumber"></A>FSmartbase_recNumber</H2></P>        
            <div class="h2section" id="FSmartbase_recNumber">
            <p><b>FSmartbase_recNumber(CONTEXT*
            gCP,THREAD* gTP,LpCHAR theSource,LpNUM disp);</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_recNumber</b>
            function recognizes a numeric constant inside a source string. There is no
            limit to the size of the argument list. This function always returns a
            result (even if the result is FALSE).</p>
            <p>&nbsp;</p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>LpCHAR&nbsp;
                    theSource
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    source string containing the number.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>LpNUM&nbsp;
                    disp
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    starting displacement of the number to be recognized within the
                    string, and, upon return, the displacement immediately after the
                    recognized numeric constant within the source string.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>Result
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>return(TVAL)
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    result of recognizing the numeric constant within the string. The
                    result will be FALSE if the recognition failed; otherwise, the
                    result will be either REAL or NUM.</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p><b>For
            example:</b></p>    
            <blockquote> 
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>TVAL
            foo(CONTEXT* gCP,THREAD* gTP)
         
            </p>
            <p>{
         
            </p>
            <p>TVAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            result;
         
            </p>
            <p>NUM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            disp;
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Recognize a simple numeric constant here.
         
            </p>
            <p>disp
            = 3;
         
            </p>
            <p>result
            = FSmartbase_recNumber(gCP,gTP,&quot;xyz+.23fg&quot;,&amp;disp);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Check for a numeric result and print it.
         
            </p>
            <p>if
            (result.Tag == TYNUM)&nbsp; printf(&quot;The
            result is %ld&quot;,result.u.Int);
         
            </p>
            <p>if
            (result.Tag == TYREAL)&nbsp; printf(&quot;The
            result is %g&quot;,result.u.Real);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Return the evaluation result.
         
            </p>
            <p>return(result);
         
            </p>
            <p>}     </p>       
            </blockquote>
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_Ref"></A>FSmartbase_Ref</H2></P>        
            <div class="h2section" id="FSmartbase_Ref">
            <p><b>FSmartbase_Ref(CONTEXT*
            gCP,THREAD* gTP,NUM&nbsp; argc, ...);</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_Ref</b>
            function evaluates the <b>ref</b>
            function against the argument list. There is no limit to the size of the
            argument list. This function always returns a result (even if the result is
            an error code).</p>
            <p>&nbsp;</p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>NUM&nbsp;
                    argc
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    count of the arguments to be sent to ref.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>TVAL&nbsp;
                    arg...
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    optional direct argument list.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>Result
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>return(TVAL)
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    result of evaluating the ref function against the argument list.
                    Regardless of the side effects, evaluating a function always returns
                    a result value.</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p><b>&nbsp;
         
            </b></p>
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>The FSmartbase_Ref function
            supports direct inline Analytic Information Server object references from C and
            C++. Since Analytic Information Server functions may take an optional number of
            arguments, the TVAL arguments to FSmartbase_Ref are also optional (not
            unlike the C <b>printf</b> function).
            Of course all arguments to Analytic Information Server functions must be tagged
            values TVAL's; therefore, the following conversion macros are supplied in
            Fsmtbase.h for easy inline argument conversion from C data types to Lambda
            Information Server tagged values:
         
            </p>
            <p><b>TBOOL(b)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C boolean into a
            tagged value.<b>
            </b></p>
            <p><b>TCHAR(c)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C character into
            a tagged value.<b>
            </b></p>
            <p><b>TFUNCTION(f)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C function into a
            tagged value.<b>
            </b></p>
            <p><b>TINT(i)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C integer into a
            tagged value.<b>
            </b></p>
            <p><b>TREAL(r)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C real into a
            tagged value.<b>
            </b></p>
            <p><b>TSTRING(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C string into a
            tagged value.<b>
            </b></p>
            <p><b>TSYMBOL(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C string into a
            symbol tagged value.<b>
            </b></p>
            <p><b>TQSYMBOL(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C string into a
            quoted symbol tagged value.<b>
            </b></p>
            <p><b>TGVALUE(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C string into the
            global value of the symbol.
         
            </p>
            <p>&nbsp;
         
            </p>
            <p><b>For
            example:</b></p>         
            <blockquote> 
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>TVAL
            foo(CONTEXT* gCP,THREAD* gTP)
         
            </p>
            <p>{
         
            </p>
            <p>StartFrame
         
            </p>
            <p>DeclareTVAL(result);
         
            </p>
            <p>DeclareTVAL(aVector);
         
            </p>
            <p>EndFrame
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Create a simple numeric vector here.
         
            </p>
            <p>Stack(aVector)
            = FSmartbase_Evals(gCP,gTP,&quot;#(1 2 3 4 5)&quot;,FALSE);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Get the 4th number from the vector here.
         
            </p>
            <p>Stack(result)
            = FSmartbase_Ref(gCP,gTP,2,Stack(aVector),TINT(3));
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Check for an integer result and print it.
         
            </p>
            <p>if
            (Satck(result).Tag == TYNUM)
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            printf(&quot;The result is %ld&quot;,Stack(result).u.Int);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Return the evaluation result.
         
            </p>
            <p>FrameExit(Stack(result));
         
            </p>
            <p>}
         
            </p>    
            </blockquote> 
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Care must be taken to assure
            that any temporary results are protected from garbage collection.<b>
            </b>The FSmartbase_MarkAndSweep function invokes immediate Analytic Information
            Server garbage collection from C and C++. Unfortunately this will collect
            any temporary Tvals declared inline to the C and C++ function. The following
            macros allow the C and C++ programmer to reserve temporary space on the
            Analytic Information Server stack for storing Tvals. This prevents them from
            being garbage collected.
         
            </p>
            <p><a name="_Toc315776160"></a><a name="_Toc315782915"></a><a name="_Toc316186027"></a><a name="_Toc316811666"></a><a name="_Toc317051265"></a><a name="_Toc317061222"></a><a name="_Toc317064645"></a><a name="_Toc318210085"></a><a name="_Toc318260245"></a><a name="_Toc319394363"></a><a name="_Toc320110925"></a><a name="_Toc320112698"></a><a name="_Toc327701148"></a><a name="_Toc327701234"></a><a name="_Toc327701378"></a><a name="_Toc329001324"></a><a name="_Toc329001631"></a><a name="_Toc350173604"><b>StartFrame&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b></a>Starts
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>DeclareTVAL(var)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Starts
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>EndFrame&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Ends
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>Stack(var)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Direct
            access to stack variable.<b>
            </b></p>
            <p><b>FrameReset&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            the Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>ExitOnError(value)&nbsp;&nbsp;&nbsp;&nbsp;
            </b>If
            value is an error, resets frame and returns value (value must be a Tval).<b>
            </b></p>
            <p><b>FrameExit(value)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            frame and returns value (value must be a Tval).
         
            </p>
            <p><b>FrameReturn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            frame, no value returned.  </p>
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_Refv"></A>FSmartbase_Refv</H2></P>        
            <div class="h2section" id="FSmartbase_Refv">
           <p><b>FSmartbase_Refv(CONTEXT*
            gCP,THREAD* gTP,NUM&nbsp; argc,TVAL&nbsp;
            argv[]);</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_Refv</b>
            function evaluates the <b>ref</b>
            function against the argument list. There is no limit to the size of the
            argument list. This function always returns a result (even if the result is
            an error code).</p>
            <p>&nbsp;</p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>NUM&nbsp;
                    argc
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    count of the arguments to be sent to ref.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>TVAL&nbsp;
                    argv[]
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    argument list. (an array of tagged values)</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>Result
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>return(TVAL)
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    result of evaluating the ref function against the argument list.
                    Regardless of the side effects, evaluating a function always returns
                    a result value.</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p>&nbsp;
         
            </p>
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>The FSmartbase_Refv function
            supports direct inline Analytic Information Server object references from C and
            C++. Unlike <b>FSmartbase_Ref</b> which
            requires the argument Tvals to be placed directly inline, <b>FSmartbase_Refv</b>
            supports a argument list which is an array of Tvals. Of course all arguments
            to Analytic Information Server functions must be tagged values TVAL's;
            therefore, the following conversion macros are supplied in Fsmtbase.h for
            easy inline argument conversion from C data types to Analytic Information
            Server tagged values:
         
            </p>
            <p><b>TBOOL(b)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C boolean into a
            tagged value.<b>
            </b></p>
            <p><b>TCHAR(c)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C character into
            a tagged value.<b>
            </b></p>
            <p><b>TFUNCTION(f)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C function into a
            tagged value.<b>
            </b></p>
            <p><b>TINT(i)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C integer into a
            tagged value.<b>
            </b></p>
            <p><b>TREAL(r)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C real into a
            tagged value.<b>
            </b></p>
            <p><b>TSTRING(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C string into a
            tagged value.<b>
            </b></p>
            <p><b>TSYMBOL(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C string into a
            symbol tagged value.<b>
            </b></p>
            <p><b>TQSYMBOL(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C string into a
            quoted symbol tagged value.<b>
            </b></p>
            <p><b>TGVALUE(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C string into the
            global value of the symbol.
         
            </p>
            <p>&nbsp;</p>
            <p><b>For
            example:</b></p>    
            <blockquote> 
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>TVAL
            foo(CONTEXT* gCP,THREAD* gTP)
         
            </p>
            <p>{
         
            </p>
            <p>StartFrame
         
            </p>
            <p>DeclareTVAL(result);
         
            </p>
            <p>DeclareTVAL(aVector);
         
            </p>
            <p>DeclareTVAL(index);
         
            </p>
            <p>EndFrame
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Create a simple numeric vector here.
         
            </p>
            <p>Stack(aVector)
            = FSmartbase_Evals(gCP,gTP,&quot;#(1 2 3 4 5)&quot;,FALSE);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Get the 3rd number from the vector here.
         
            </p>
            <p>Stack(index)
            = TINT(3);
         
            </p>
            <p>Stack(result)
            = FSmartbase_Refv(gCP,gTP,2,&amp;Stack(aVector));
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Check for an integer result and print it.
         
            </p>
            <p>if
            (Stack(result).Tag == TINT)
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            printf(&quot;The result is %ld&quot;,Stack(result).u.Int);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Return the evaluation result.
         
            </p>
            <p>FrameExit(Stack(result));
         
            </p>
            <p>}
         
            </p>     
            </blockquote> 
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Care must be taken to assure
            that any temporary results are protected from garbage collection.<b>
            </b>The FSmartbase_MarkAndSweep function invokes immediate Analytic Information
            Server garbage collection from C and C++. Unfortunately this will collect
            any temporary Tvals declared inline to the C and C++ function. The following
            macros allow the C and C++ programmer to reserve temporary space on the
            Analytic Information Server stack for storing Tvals. This prevents them from
            being garbage collected.
         
            </p>
            <p><a name="_Toc315776161"></a><a name="_Toc315782916"></a><a name="_Toc316186028"></a><a name="_Toc316811667"></a><a name="_Toc317051266"></a><a name="_Toc317061223"></a><a name="_Toc317064646"></a><a name="_Toc318210086"></a><a name="_Toc318260246"></a><a name="_Toc319394364"></a><a name="_Toc320110926"></a><a name="_Toc320112699"></a><a name="_Toc327701149"></a><a name="_Toc327701235"></a><a name="_Toc327701379"></a><a name="_Toc329001325"></a><a name="_Toc329001632"></a><a name="_Toc350173605"><b>StartFrame&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b></a>Starts
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>DeclareTVAL(var)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Starts
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>EndFrame&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Ends
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>Stack(var)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Direct
            access to stack variable.<b>
            </b></p>
            <p><b>FrameReset&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            the Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>ExitOnError(value)&nbsp;&nbsp;&nbsp;&nbsp;
            </b>If
            value is an error, resets frame and returns value (value must be a Tval).<b>
            </b></p>
            <p><b>FrameExit(value)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            frame and returns value (value must be a Tval).
         
            </p>
            <p><b>FrameReturn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            frame, no value returned. </p>
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_RegisterCProcedure"></A>FSmartbase_RegisterCProcedure</H2></P>        
            <div class="h2section" id="FSmartbase_RegisterCProcedure">
            <p><b>FSmartbase_RegisterCProcedure(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            CONTEXT* gCP,
         
            </b></p>
            <p><b>THREAD*
            gTP,
         
            </b></p>
            <p><b>LpCHAR
            funcName,
         
            </b></p>
            <p><b>LpFUNC
            lpFunc);</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_RegisterCProcedure
            </b>function registers a new C function to the Analytic Information Server
            engine (this sets the Analytic Information Server <b>funcName</b>
            variable).</p>
            <p>&nbsp;</p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>LpCHAR
                    funcName
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>name of the new C function which is being registered&nbsp;
                    with the engine.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>LpFUNC&nbsp;
                    lpFunc
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>name of a C function which is to be converted into a tagged
                    value.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>Result
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>return(TVAL)
         
                    </b></p>
                  </td>
                  <td>
                    <p>Usually
                    returns a value of TRUE if no errors occur.</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p><b>For&nbsp;
            example:</b></p>     
            <blockquote> 
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>TVAL
            foo(CONTEXT* gCP,THREAD* gTP)
         
            </p>
            <p>{
         
            </p>
            <p>TVAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            result;
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Register a new C function here.
         
            </p>
            <p>result
            = FSmartbase_RegisterCProcedure(gCP,gTP,(LpCHAR)&quot;myname&quot;, (LpFUNC)&amp;myFunc);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Check for an error result and print it.
         
            </p>
            <p>if
            (result.Tag == TYERROR)&nbsp; printf(&quot;The
            error is %s&quot;,result.u.Text);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Return the evaluation result.
         
            </p>
            <p>return(result);
         
            </p>
            <p>}
         
            </p>   
            </blockquote> 
            <p><b>Note</b>:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Any&nbsp; C Functions
            registered in this manner should expect a variable number of arguments: the
            argument count and an argument vector. For example
         
            </p>     
            <blockquote> 
            <p>TVAL
            myFunc(CONTEXT* gCP,THREAD* gTP,NUM argc,TVAL argv[])
         
            </p>
            <p>{
         
            </p>
            <p>...
         
            </p>
            <p>return(TObject_TRUE);
         
            </p>
            <p>}      </p>       
            </blockquote>
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_ResizeMemory"></A>FSmartbase_ResizeMemory</H2></P>        
            <div class="h2section" id="FSmartbase_ResizeMemory">
           <p><b>FSmartbase_ResizeMemory(CONTEXT*
            gCP,THREAD* gTP,HMemory theMemory,NUM theSize);</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_ResizeMemory
            </b>function requests the engine to resize a memory block to the specified
            size.&nbsp; While it is not
            recommended for the application to make explicit calls into the Engine's
            memory manager, it may be necessary or desirable to do so in some cases.</p>
            <p>&nbsp;</p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>HMemory&nbsp;
                    theMemory
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>memory block to be resized.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>NUM&nbsp;
                    theSize
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    new </b>size of the memory block.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>Result
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>return(HMemory)
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    memory block to be returned.</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p>&nbsp;
         
            </p>
            <p><b>For
            example:</b></p>     
            <blockquote> 
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>TVAL
            foo(CONTEXT* gCP,THREAD* gTP,char*&nbsp;
            aString, HMemory theBlock)
         
            </p>
            <p>{
         
            </p>
            <p>StartFrame
         
            </p>
            <p>DeclareTVAL(result);
         
            </p>
            <p>EndFrame
         
            </p>
            <p>&nbsp;
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Create a result value by evaluating a Lisp expression.
         
            </p>
            <p>theBlock
            = FSmartbase_ResizeMemory(gCP,gTP,theBlock,strlen(aString) + 1);
         
            </p>
            <p>strcpy(*theBlock,aString);
         
            </p>
            <p>Stack(result)
            = FSmartbase_Evals(gCP,gTP,*theBlock,FALSE);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Free the memory which held the string.
         
            </p>
            <p>FSmartbase_FreeMemory(gCP,gTP,theBlock);
         
            </p>
            <p>FrameExit(Stack(result));
         
            </p>
            <p>}
         
            </p>    
            </blockquote> 
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>The memory block must
            eventually be returned to the Engine's memory manager (see the
            FSmartbase_FreeMemory function).</p>     
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_SendMsg"></A>FSmartbase_SendMsg</H2></P>        
            <div class="h2section" id="FSmartbase_SendMsg">
            <p><b>FSmartbase_SendMsg(CONTEXT*
            gCP,
         
            </b></p>
            <p><b>THREAD*
            gTP,
         
            </b></p>
            <p><b>TVAL&nbsp;
            theMsg,
         
            </b></p>
            <p><b>TVAL&nbsp;
            theTarget,
         
            </b></p>
            <p><b>NUM&nbsp;
            argc, ... );</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_SendMsg</b>
            function sends the specified message to the target along with the argument
            list. The argument list is limited to twenty(20) items. This function always
            returns a result (even if the result is an error code).</p>
            <p>&nbsp;
         
            </p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>TVAL&nbsp;
                    theMsg
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>message Symbol which is to be sent to the target.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>TVAL&nbsp;
                    theTarget
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>target object which is to receive the message.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>NUM&nbsp;
                    argc
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    count of the arguments (may be zero).</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>TVAL&nbsp;
                    arg...
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    optional direct argument list.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>Result
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>return(TVAL)
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    result of evaluating the message send. Regardless of the side
                    effects, evaluating a message send always returns a result value.</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p>&nbsp;
         
            </p>
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>The FSmartbase_SendMsg
            function supports direct inline Analytic Information Server message function
            invocations from C and C++. Since Analytic Information Server message functions
            may take an optional number of arguments, the TVAL arguments to
            FSmartbase_Eval are also optional (not unlike the C <b>printf</b>
            function). Of course all arguments to Analytic Information Server message
            functions must be TVAL's, therefore, the following conversion macros are
            supplied in Fsmtbase.h for easy inline argument conversion from C data types
            to Analytic Information Server tagged values:
         
            </p>
            <p><b>TBOOL(b)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C boolean into a
            tagged value.<b>
            </b></p>
            <p><b>TCHAR(c)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C character into
            a tagged value.<b>
            </b></p>
            <p><b>TFUNCTION(f)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C function into a
            tagged value.<b>
            </b></p>
            <p><b>TINT(i)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C integer into a
            tagged value.<b>
            </b></p>
            <p><b>TREAL(r)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C real into a
            tagged value.<b>
            </b></p>
            <p><b>TSTRING(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C string into a
            tagged value.<b>
            </b></p>
            <p><b>TSYMBOL(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C string into a
            symbol tagged value.<b>
            </b></p>
            <p><b>TQSYMBOL(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C string into a
            quoted symbol tagged value.<b>
            </b></p>
            <p><b>TGVALUE(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C string into the
            global value of the symbol.
         
            </p>
            <p><b>&nbsp;
         
            </b></p>
            <p><b>For
            example:
         
            </b></p>  
            <blockquote> 
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>static
            TVAL theTarget;
         
            </p>
            <p>static
            TVAL theMsg;
         
            </p>
            <p>TVAL&nbsp;&nbsp;&nbsp;
            foo(CONTEXT* gCP,THREAD* gTP)
         
            </p>
            <p>{
         
            </p>
            <p>StartFrame
         
            </p>
            <p>DeclareTVAL(result);
         
            </p>
            <p>EndFrame
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Compile a simple arithmetic function here.
         
            </p>
            <p>if
            (theTarget.Tag == TYVOID)
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            theTarget = FSmartbase_Evals(gCP,gTP,
         
            </p>
            <p>&quot;(defun
            myProc() (defun foo(n m) (+ n m)))&quot;
         
            </p>
            <p>,FALSE);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Evaluate a simple arithmetic function here.
         
            </p>
            <p>TheMsg
            = TSYMBOL("foo");
         
            </p>
            <p>Stack(result)
            = FSmartbase_SendMsg(gCP,gTP,theMsg,theTarget,2,TINT(22),TREAL(32.47));
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Check for a numeric result and print it.
         
            </p>
            <p>if
            (Stack(result).Tag == TYREAL)&nbsp; printf(&quot;The
            result is %g&quot;,result.u.Real);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Return the evaluation result.
         
            </p>
            <p>FrameExit(Stack(result));
         
            </p>
            <p>}
         
            </p>       
            </blockquote> 
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Care must be taken to assure
            that any temporary results are protected from garbage collection.<b>
            </b>The FSmartbase_MarkAndSweep function invokes immediate Analytic Information
            Server garbage collection from C and C++. Unfortunately this will collect
            any temporary Tvals declared inline to the C and C++ function. The following
            macros allow the C and C++ programmer to reserve temporary space on the
            Analytic Information Server stack for storing Tvals. This prevents them from
            being garbage collected.
         
            </p>
            <p><b>StartFrame&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Starts
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>DeclareTVAL(var)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Starts
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>EndFrame&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Ends
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>Stack(var)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Direct
            access to stack variable.<b>
            </b></p>
            <p><b>FrameReset&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            the Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>ExitOnError(value)&nbsp;&nbsp;&nbsp;&nbsp;
            </b>If
            value is an error, resets frame and returns value (value must be a Tval).<b>
            </b></p>
            <p><b>FrameExit(value)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            frame and returns value (value must be a Tval).
         
            </p>
            <p><b>FrameReturn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            frame, no value returned.     </p>
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_SendMsgv"></A>FSmartbase_SendMsgv</H2></P>        
            <div class="h2section" id="FSmartbase_SendMsgv">
              <p><b>FSmartbase_SendMsgv(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            CONTEXT* gCP,
         
            </b></p>
            <p><b>THREAD*
            gTP,
         
            </b></p>
            <p><b>TVAL
            theMsg,
         
            </b></p>
            <p><b>TVAL&nbsp;
            theTarget,
         
            </b></p>
            <p><b>NUM&nbsp;
            argc,
         
            </b></p>
            <p><b>TVAL&nbsp;
            argv[]);</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_SendMsgv
            </b>function function sends the specified message to the target along with
            the argument list. The argument list is limited to twenty(20) items. This
            function always returns a result (even if the result is an error code). The
            arguments are as follows:</p>
            <p>&nbsp;
         
            </p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>TVAL&nbsp;
                    theMsg
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>message Symbol which is to be sent to the target.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>TVAL&nbsp;
                    theTarget
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>target object which is to receive the message.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>NUM&nbsp;
                    argc
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    count of the arguments (may be zero).</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>TVAL&nbsp;
                    argv[]
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    argument list (an array of tagged values).</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>Result
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>return(TVAL)
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    result of evaluating the function. Regardless of the side effects,
                    evaluating a function always returns a result value.</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p>&nbsp;
         
            </p>
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>The FSmartbase_SendMsgv
            function supports direct inline Analytic Information Server message function
            invocations from C and C++. Unlike <b>FSmartbase_SendMsg</b>
            which requires the argument Tvals to be placed directly inline, <b>FSmartbase_SendMsgv</b>
            supports a argument list which is an array of Tvals. Of course all arguments
            to Analytic Information Server message functions must be tagged values TVAL's;
            therefore, the following conversion macros are supplied in Fsmtbase.h for
            easy inline argument conversion from C data types to Analytic Information
            Server tagged values:
         
            </p>
            <p><b>TBOOL(b)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C boolean into a
            tagged value.<b>
            </b></p>
            <p><b>TCHAR(c)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C character into
            a tagged value.<b>
            </b></p>
            <p><b>TFUNCTION(f)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C function into a
            tagged value.<b>
            </b></p>
            <p><b>TINT(i)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C integer into a
            tagged value.<b>
            </b></p>
            <p><b>TREAL(r)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C real into a
            tagged value.<b>
            </b></p>
            <p><b>TSTRING(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C string into a
            tagged value.<b>
            </b></p>
            <p><b>TSYMBOL(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C string into a
            symbol tagged value.<b>
            </b></p>
            <p><b>TQSYMBOL(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C string into a
            quoted symbol tagged value.<b>
            </b></p>
            <p><b>TGVALUE(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C string into the
            global value of the symbol.
         
            </p>
            <p><b>&nbsp;
         
            </b></p>
            <p><b>For
            example:</b></p>   
            <blockquote> 
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>static
            TVAL theTarget;
         
            </p>
            <p>static
            TVAL theMsg;
         
            </p>
            <p>TVAL&nbsp;&nbsp;&nbsp;
            foo(CONTEXT* gCP,THREAD* gTP)
         
            </p>
            <p>{
         
            </p>
            <p>StartFrame
         
            </p>
            <p>DeclareTVAL(result);
         
            </p>
            <p>DeclareTVAL(args);
         
            </p>
            <p>EndFrame
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Compile a simple arithmetic function here.
         
            </p>
            <p>if
            (theProc.Tag == TyVOID)
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            theTarget = FSmartbase_Evals(gCP,gTP,
         
            </p>
            <p>&quot;(defun
            myProc() (defun foo(n) (++&nbsp; n)))&quot;
         
            </p>
            <p>,FALSE);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Evaluate a simple arithmetic function here.
         
            </p>
            <p>theMsg
            = TSYMBOL("foo");
         
            </p>
            <p>Stack(args)
            = TINT(22);
         
            </p>
            <p>Stack(result)
            = FSmartbase_SendMsgv(gCP,gTP,theMsg,theTarget,1,&amp;args);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Check for an integer result and print it.
         
            </p>
            <p>if
            (Stack(result).Tag == TYNUM)
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            printf(&quot;The result is %ld&quot;,Stack(result).u.Int);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Return the evaluation result.
         
            </p>
            <p>FrameExit(Stack(result));
         
            </p>
            <p>}
         
            </p>              
            </blockquote> 
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Care must be taken to assure
            that any temporary results are protected from garbage collection.<b>
            </b>The FSmartbase_MarkAndSweep function invokes immediate Analytic Information
            Server garbage collection from C and C++. Unfortunately this will collect
            any temporary Tvals declared inline to the C and C++ function. The following
            macros allow the C and C++ programmer to reserve temporary space on the
            Analytic Information Server stack for storing Tvals. This prevents them from
            being garbage collected.
         
            </p>
            <p><b>StartFrame&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Starts
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>DeclareTVAL(var)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Starts
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>EndFrame&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Ends
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>Stack(var)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Direct
            access to stack variable.<b>
            </b></p>
            <p><b>FrameReset&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            the Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>ExitOnError(value)&nbsp;&nbsp;&nbsp;&nbsp;
            </b>If
            value is an error, resets frame and returns value (value must be a Tval).<b>
            </b></p>
            <p><b>FrameExit(value)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            frame and returns value (value must be a Tval).
         
            </p>
            <p><b>FrameReturn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            frame, no value returned.          </p>
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_Set"></A>FSmartbase_Set</H2></P>        
            <div class="h2section" id="FSmartbase_Set">
            <p><b>FSmartbase_Set(CONTEXT*
            gCP,THREAD* gTP,NUM&nbsp; argc, ...);</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_Set</b>
            function evaluates the <b>set</b>
            function against the argument list. There is no limit to the size of the
            argument list. This function always returns a result (even if the result is
            an error code). The arguments are as follows:</p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>NUM&nbsp;
                    argc
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    count of the arguments to be sent to set.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>TVAL&nbsp;
                    arg ...
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    optional direct argument list.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>Result
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>return(TVAL)
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    result of evaluating the set function against the argument list.
                    Regardless of the side effects, evaluating a function always returns
                    a result value.</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p>&nbsp;
         
            </p>
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>The FSmartbase_Set function
            supports direct inline Analytic Information Server function invocations from C
            and C++. Since Analytic Information Server functions may take an optional
            number of arguments, the TVAL arguments to FSmartbase_Set are also optional
            (not unlike the C <b>printf</b>
            function). Of course all arguments to Analytic Information Server functions
            must be tagged values TVAL's; therefore, the following conversion macros are
            supplied in Fsmtbase.h for easy inline argument conversion from C data types
            to Analytic Information Server tagged values:
         
            </p>
            <p><b>TBOOL(b)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C boolean into a
            tagged value.<b>
            </b></p>
            <p><b>TCHAR(c)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C character into
            a tagged value.<b>
            </b></p>
            <p><b>TFUNCTION(f)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C function into a
            tagged value.<b>
            </b></p>
            <p><b>TINT(i)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C integer into a
            tagged value.<b>
            </b></p>
            <p><b>TREAL(r)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C real into a
            tagged value.<b>
            </b></p>
            <p><b>TSTRING(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C string into a
            tagged value.<b>
            </b></p>
            <p><b>TSYMBOL(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C string into a
            symbol tagged value.<b>
            </b></p>
            <p><b>TQSYMBOL(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C string into a
            quoted symbol tagged value.<b>
            </b></p>
            <p><b>TGVALUE(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C string into the
            global value of the symbol.
         
            </p>
            <p>&nbsp;
         
            </p>
            <p><b>For
            example:</b></p>    
            <blockquote> 
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>TVAL
            foo(CONTEXT* gCP,THREAD* gTP)
         
            </p>
            <p>{
         
            </p>
            <p>StartFrame
         
            </p>
            <p>DeclareTVAL(result);
         
            </p>
            <p>DeclareTVAL(aVector);
         
            </p>
            <p>EndFrame
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Create a simple numeric vector here.
         
            </p>
            <p>Stack(aVector)
            = FSmartbase_Evals(gCP,gTP,&quot;#(1 2 3 4 5)&quot;,FALSE);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Set the 4th number from the vector to 22.
         
            </p>
            <p>Stack(result)
            = FSmartbase_Set(gCP,gTP,3,Stack(aVector),TINT(3),TINT(22));
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Return the altered vector as a result.
         
            </p>
            <p>FrameExit(Stack(result));
         
            </p>
            <p>}
         
            </p>      
            </blockquote> 
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Care must be taken to assure
            that any temporary results are protected from garbage collection.<b>
            </b>The FSmartbase_MarkAndSweep function invokes immediate Analytic Information
            Server garbage collection from C and C++. Unfortunately this will collect
            any temporary Tvals declared inline to the C and C++ function. The following
            macros allow the C and C++ programmer to reserve temporary space on the
            Analytic Information Server stack for storing Tvals. This prevents them from
            being garbage collected.
         
            </p>
            <p><a name="_Toc350173608"><b>StartFrame&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b></a>Starts
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>DeclareTVAL(var)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Starts
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>EndFrame&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Ends
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>Stack(var)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Direct
            access to stack variable.<b>
            </b></p>
            <p><b>FrameReset&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            the Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>ExitOnError(value)&nbsp;&nbsp;&nbsp;&nbsp;
            </b>If
            value is an error, resets frame and returns value (value must be a Tval).<b>
            </b></p>
            <p><b>FrameExit(value)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            frame and returns value (value must be a Tval).
         
            </p>
            <p><b>FrameReturn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            frame, no value returned.    </p>
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_SetSymbolValue"></A>FSmartbase_SetSymbolValue</H2></P>        
            <div class="h2section" id="FSmartbase_SetSymbolValue">
            <p><b>FSmartbase_SetSymbolValue(CONTEXT*
            gCP,
         
            </b></p>
            <p><b>THREAD*
            gTP,
         
            </b></p>
            <p><b>LpCHAR
            theSymbol,
         
            </b></p>
            <p><b>TVAL
            newValue);</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_SetSymbolValue</b>
            function sets the value of the specified symbol. This function always
            returns a result (even if the result is an error code).</p>
            <p>&nbsp;
         
            </p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>LpCHAR&nbsp;
                    theSymbol
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>text of the symbol whose value is to be set.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>newValue
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    new value of the specified symbol.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>Result
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>return(TVAL)
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    new value of the specified symbol.</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p><b>For
            example:
         
            </b></p>  
            <blockquote> 
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>TVAL&nbsp;&nbsp;&nbsp;
            foo(CONTEXT* gCP,THREAD* gTP)
         
            </p>
            <p>{
         
            </p>
            <p>TVAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            theProc;
         
            </p>
            <p>TVAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            addMe;
         
            </p>
            <p>TVAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            result;
         
            </p>
            <p>TVAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            args[2];
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Compile a simple arithmetic function here.
         
            </p>
            <p>theProc
            = FSmartbase_GetSymbolValue(gCP,gTP,&quot;+&quot;);
         
            </p>
            <p>addMe
            = FSmartbase_SetSymbolValue(gCP,gTP,&quot;add-me&quot;,theProc);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Evaluate a simple arithmetic function here.
         
            </p>
            <p>args[0]
            = TINT(22);
         
            </p>
            <p>args[1]
            = TINT(-24);
         
            </p>
            <p>result
            = FSmartbase_Evals(gCP,gTP,addMe,2,args);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Check for an integer result and print it.
         
            </p>
            <p>if
            (result.Tag == TYNUM)
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            printf(&quot;The result is %ld&quot;,result.u.Int);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Return the evaluation result.
         
            </p>
            <p>return(result);
         
            </p>
            <p>}
         
            </p>   
            </blockquote> 
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Care must be taken to assure
            that any temporary results are protected from garbage collection.<b>
            </b>The FSmartbase_MarkAndSweep function invokes immediate Analytic Information
            Server garbage collection from C and C++. Unfortunately this will collect
            any temporary Tvals declared inline to the C and C++ function. The following
            macros allow the C and C++ programmer to reserve temporary space on the
            Analytic Information Server stack for storing Tvals. This prevents them from
            being garbage collected.
         
            </p>
            <p><a name="_Toc350173609"><b>StartFrame&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b></a>Starts
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>DeclareTVAL(var)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Starts
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>EndFrame&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Ends
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>Stack(var)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Direct
            access to stack variable.<b>
            </b></p>
            <p><b>FrameReset&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            the Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>ExitOnError(value)&nbsp;&nbsp;&nbsp;&nbsp;
            </b>If
            value is an error, resets frame and returns value (value must be a Tval).<b>
            </b></p>
            <p><b>FrameExit(value)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            frame and returns value (value must be a Tval).
         
            </p>
            <p><b>FrameReturn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            frame, no value returned.         </p>
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_Setv"></A>FSmartbase_Setv</H2></P>        
            <div class="h2section" id="FSmartbase_Setv">
            <p><b>FSmartbase_Setv(CONTEXT*
            gCP,THREAD* gTP,NUM&nbsp; argc,TVAL&nbsp;
            argv[]);</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_Setv</b>
            function evaluates the <b>set</b>
            function against the argument list. There is no limit to the size of the
            argument list. This function always returns a result (even if the result is
            an error code).</p>
            <p>&nbsp;</p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>NUM&nbsp;
                    argc
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    count of the arguments to be sent to set.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>TVAL&nbsp;
                    argv[]
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    argument list.&nbsp; (an
                    array of tagged values)</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>Result
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>return(TVAL)
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    result of evaluating the set function against the argument list.
                    Regardless of the side effects, evaluating a function always returns
                    a result value.</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p>&nbsp;
         
            </p>
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>The FSmartbase_Setv function
            supports direct inline Analytic Information Server object references from C and
            C++. Unlike <b>FSmartbase_Set</b> which
            requires the argument Tvals to be placed directly inline, <b>FSmartbase_Setv</b>
            supports a argument list which is an array of Tvals. Of course all arguments
            to Analytic Information Server functions must be tagged values TVAL's;
            therefore, the following conversion macros are supplied in Fsmtbase.h for
            easy inline argument conversion from C data types to Analytic Information
            Server tagged values:
         
            </p>
            <p><b>TBOOL(b)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C boolean into a
            tagged value.<b>
            </b></p>
            <p><b>TCHAR(c)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C character into
            a tagged value.<b>
            </b></p>
            <p><b>TFUNCTION(f)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C function into a
            tagged value.<b>
            </b></p>
            <p><b>TINT(i)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C integer into a
            tagged value.<b>
            </b></p>
            <p><b>TREAL(r)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C real into a
            tagged value.<b>
            </b></p>
            <p><b>TSTRING(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C string into a
            tagged value.<b>
            </b></p>
            <p><b>TSYMBOL(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C string into a
            symbol tagged value.<b>
            </b></p>
            <p><b>TQSYMBOL(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C string into a
            quoted symbol tagged value.<b>
            </b></p>
            <p><b>TGVALUE(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C string into the
            global value of the symbol.
         
            </p>
            <p>&nbsp;
         
            </p>
            <p><b>For
            example:</b></p>     
            <blockquote> 
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>TVAL&nbsp;&nbsp;&nbsp;
            foo(CONTEXT* gCP,THREAD* gTP)
         
            </p>
            <p>{
         
            </p>
            <p>StartFrame
         
            </p>
            <p>DeclareTVAL(result);
         
            </p>
            <p>DeclareTVAL(aVector);
         
            </p>
            <p>DeclareTVAL(index);
         
            </p>
            <p>DeclareTVAL(newValue);
         
            </p>
            <p>EndFrame
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Create a simple numeric vector here.
         
            </p>
            <p>Stack(aVector)
            = FSmartbase_Evals(gCP,gTP,&quot;#(1 2 3 4 5)&quot;,FALSE);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Set the 3rd number from the vector to 22.
         
            </p>
            <p>Stack(index)
            = TINT(3);
         
            </p>
            <p>Stack(newValue)
            = TINT(22);
         
            </p>
            <p>Stack(result)
            = FSmartbase_Setv(gCP,gTP,3,&amp;Stack(aVector));
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Return the altered vector as a result.
         
            </p>
            <p>FrameExit(Stack(result));
         
            </p>
            <p>}
         
            </p>           
            </blockquote> 
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Care must be taken to assure
            that any temporary results are protected from garbage collection.<b>
            </b>The FSmartbase_MarkAndSweep function invokes immediate Analytic Information
            Server garbage collection from C and C++. Unfortunately this will collect
            any temporary Tvals declared inline to the C and C++ function. The following
            macros allow the C and C++ programmer to reserve temporary space on the
            Analytic Information Server stack for storing Tvals. This prevents them from
            being garbage collected.
         
            </p>
            <p><a name="_Toc350173610"><b>StartFrame&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b></a>Starts
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>DeclareTVAL(var)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Starts
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>EndFrame&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Ends
            an Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>Stack(var)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Direct
            access to stack variable.<b>
            </b></p>
            <p><b>FrameReset&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            the Analytic Information Server Stack frame.<b>
            </b></p>
            <p><b>ExitOnError(value)&nbsp;&nbsp;&nbsp;&nbsp;
            </b>If
            value is an error, resets frame and returns value (value must be a Tval).<b>
            </b></p>
            <p><b>FrameExit(value)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            frame and returns value (value must be a Tval).
         
            </p>
            <p><b>FrameReturn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Resets
            frame, no value returned.      </p>
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_SizeOfMemory"></A>FSmartbase_SizeOfMemory</H2></P>        
            <div class="h2section" id="FSmartbase_SizeOfMemory">
           <p><b>FSmartbase_SizeOfMemory(CONTEXT*
            gCP,THREAD* gTP,HMemory theMemory);</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_SizeOfMemory
            </b>function requests the engine to return the current size of a memory
            block.&nbsp; While it is not
            recommended for the application to make explicit calls into the Engine's
            memory manager, it may be necessary or desirable to do so in some cases.&nbsp;&nbsp;</p>
            <p>&nbsp;
         
            </p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>HMemory&nbsp;
                    theMemory
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>memory block whose size is to be returned.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>Return
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>return(NUM)
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    size of the memory block.</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p>&nbsp;
         
            </p>
            <p><b>For
            example:
         
            </b></p> 
            <blockquote> 
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>TVAL
            foo(CONTEXT* gCP,THREAD* gTP,char*&nbsp;
            aString, HMemory theBlock)
         
            </p>
            <p>{
         
            </p>
            <p>StartFrame
         
            </p>
            <p>DeclareTVAL(result);
         
            </p>
            <p>EndFrame
         
            </p>
            <p>&nbsp;
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Create a result value by evaluating a Lisp expression.
         
            </p>
            <p>if
            (FSmartbase_SizeOfMemory(gCP,gTP,theBlock) &lt;= strlen(aString))
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            theBlock = FSmartbase_ResizeMemory(gCP,gTP,theBlock,strlen(aString) +
            1);
         
            </p>
            <p>strcpy(*theBlock,aString);
         
            </p>
            <p>Stack(result)
            = FSmartbase_Evals(gCP,gTP,*theBlock,FALSE);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Free the memory which held the string.
         
            </p>
            <p>FSmartbase_FreeMemory(gCP,gTP,theBlock);
         
            </p>
            <p>FrameExit(Stack(result));
         
            </p>
            <p>}
         
            </p>       
            </blockquote> 
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>The memory block must
            eventually be returned to the Engine's memory manager (see the
            FSmartbase_FreeMemory function).</p>     
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_Throw"></A>FSmartbase_Throw</H2></P>        
            <div class="h2section" id="FSmartbase_Throw">
          <p><b>FSmartbase_Throw(CONTEXT*
            gCP,THREAD* gTP,NUM&nbsp; errcode);</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_Throw</b>
            function returns the <b>errcode</b>
            argument to the last issued _FSmartbase_Catch() macro. This allows direct
            return to any error handler, from any error condition.&nbsp;</p>
            <p>&nbsp;
         
            </p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>NUM&nbsp;
                    errcode
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    error code (which means something to the application).</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p><b>&nbsp;
         
            </b></p>
            <p><b>&nbsp;For
            example:</b></p> 
            <blockquote> 
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>void
            foo(CONTEXT* gCP,THREAD* gTP)
         
            </p>
            <p>{
         
            </p>
            <p>ERR&nbsp;&nbsp;&nbsp;&nbsp;
            code;
         
            </p>
            <p>TVAL
            &nbsp;&nbsp; tmp;
         
            </p>
            <p>&nbsp;
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Initialize the shell application
         
            </p>
            <p>SetMinimumStack((long)254000);
         
            </p>
            <p>stackbase
            = (NUM)&amp;code;
         
            </p>
            <p>gVisualLisp
            = new(VVisualLisp);
         
            </p>
            <p>gApplication
            = gVisualLisp;
         
            </p>
            <p>gVisualLisp-&gt;IVisualLispApp();
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Tell the system where to go when a system error occurs.
         
            </p>
            <p>_FSmartbase_Catch(code,ManageError);
         
            </p>
            <p>FSmartbase_Evals(gCP,gTP,&quot;(runScript
            \&quot;Startup.s\&quot;)&quot;,FALSE);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Run the shell application
         
            </p>
            <p>gVisualLisp-&gt;Run();
         
            </p>
            <p>gVisualLisp-&gt;Exit();
         
            </p>
            <p>return;
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Manage any system errors here.
         
            </p>
            <p>ManageError:
         
            </p>
            <p>return;
         
            </p>
            <p>}
         
            </p>      
            </blockquote> 
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Any error just causes the
            program to quit.                </p>
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_VectorDelete"></A>FSmartbase_VectorDelete</H2></P>        
            <div class="h2section" id="FSmartbase_VectorDelete">
            <p><b>FSmartbase_VectorDelete(CONTEXT*
            gCP,THREAD* gTP,arc, argv);</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_VectorDelete</b>
            function destructively deletes the specified index element from a Vector,
            Dictionary, or Directory.&nbsp; This
            function calls the vectorDelete Lisp function. Note that <b>vectorDelete</b>
            is a destructive function and it modifies the source object (decreased in
            size to reflect the lost value).&nbsp;</p>
            <p>&nbsp;
         
            </p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>NUM&nbsp;
                    argc
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    number of arguments for VectorDelete</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>TVAL
                    argv
         
                    </b></p>
                  </td>
                  <td>
                    <p><b>FSmartbase_VectorDelete</b>
                    takes a variable number of TVAL arguments.&nbsp;
                    To function properly, the first TVAL must be the source
                    object (Vector, Dictionary, Directory), followed by a TVAL
                    containing the index of the element to be deleted</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>Result
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>return(NUM)
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    result Vector, Dictionary, or Directory after deleting the specified
                    element</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p><b>&nbsp;
         
            </b></p>
            <p><b>For
            example:
         
            </b></p>         
            <blockquote> 
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            argv[0] = TOBJ(gCP,gTP,THostObj_THostObjectVec);
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            argv[1] = TINT(5);
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            ret = FSmartbase_VectorDelete(gCP,gTP,2,argv[0],argv[1]);
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            if (ret.Tag == TYERROR)
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            {
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            FSmartbase_Throw(gCP,gTP,FSMARTBASE_ERR_INVALID);
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            }               </p>      
            </blockquote>
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_ObjectLen"></A>FSmartbase_ObjectLen</H2></P>        
            <div class="h2section" id="FSmartbase_ObjectLen">
           <p><b>FSmartbase_ObjectLen(CONTEXT*
            gCP,THREAD* gTP,LpTVAL aVector);</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_ObjectLen</b>
            function returns the length of the variable data portion of a collection
            object (i.e. Vector, String, Symbol, etc).</p>
            <p>&nbsp;
         
            </p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>LpTVAL&nbsp;
                    aVector
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    pointer to a collection object.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>return(NUM)
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    length of the variable data portion of the collection object.</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p><b>&nbsp;
         
            </b></p>
            <p><b>For
            example:
         
            </b></p>      
            <blockquote> 
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>TVAL&nbsp;&nbsp;&nbsp;
            foo(CONTEXT* gCP,THREAD* gTP,TVAL aVector)
         
            </p>
            <p>{
         
            </p>
            <p>NUM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Len;
         
            </p>
            <p>LpREAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Rp;
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Fill a Vector of Reals.
         
            </p>
            <p>Len
            = FSmartbase_ObjectLen(gCP,gTP,aVector);
         
            </p>
            <p>if
            (aVector.Tag == TYNUMVECTOR)
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            {
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Rp = (LpREAL)FSmartbase_ObjectPtr(gCP,gTP,&amp;aVector);
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            for (i = 0; i &lt; Len; ++i) Rp[i] = i;
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            }
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Return the filled Vector.
         
            </p>
            <p>return(aVector);
         
            </p>
            <p>}
         
            </p>   
            </blockquote> 
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>The Analytic Information Server
            object types handled by the FSmartbase_ObjectLen function are as follows:<b>
            </b></p>
            <p><b>TYTEXT</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            returns length of Text array
         
            </p>
            <p><b>TYSTRING</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            returns length of CHAR array
         
            </p>
            <p><b>TYSYMBOL</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            returns length of CHAR array
         
            </p>
            <p><b>TYBITVECTOR</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            returns length of CHAR array (Length is bit count)
         
            </p>
            <p><b>TYBYTEVECTOR</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            returns length of CHAR array
         
            </p>
            <p><b>TYFLTVECTOR</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            returns length of FLOAT array
         
            </p>
            <p><b>TYINTVECTOR</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            returns length of NUM array
         
            </p>
            <p><b>TYNUMVECTOR</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            returns length of REAL array
         
            </p>
            <p><b>TYVECTOR</b>&nbsp;&nbsp;&nbsp;
            returns length of TVAL array   </p>
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_ObjectrPtr"></A>FSmartbase_ObjectrPtr</H2></P>        
            <div class="h2section" id="FSmartbase_ObjectrPtr">
            <p><b>FSmartbase_ObjectPtr(CONTEXT*
            gCP,THREAD* gTP,LpTVAL aVector);</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_</b><b>Object</b><b>Ptr</b>
            function returns a pointer to the variable data portion of a collection
            object (i.e. Vector, String, Symbol, etc).</p>
            <p>&nbsp;
         
            </p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>LpTVAL&nbsp;
                    aVector
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    pointer to a collection object.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>return(POINTER)
         
                    </b></p>
                  </td>
                  <td>
                    <p>A
                    Pointer to the variable data portion of the collection object.</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p><b>For
            example:</b></p>  
            <blockquote> 
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>TVAL&nbsp;&nbsp;&nbsp;
            foo(CONTEXT* gCP,THREAD* gTP,TVAL aVector)
         
            </p>
            <p>{
         
            </p>
            <p>NUM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Len;
         
            </p>
            <p>LpREAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Rp;
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Fill a Vector of Reals.
         
            </p>
            <p>Len
            = FSmartbase_ObjectLen(gCP,gTP,aVector);
         
            </p>
            <p>if
            (aVector.Tag == TYNUMVECTOR)
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            {
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Rp = (LpREAL)FSmartbase_ObjectPtr(gCP,gTP,&amp;aVector);
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            for (i = 0; i &lt; Len; ++i) Rp[i] = i;
         
            </p>
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            }
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Return the filled Vector.
         
            </p>
            <p>return(aVector);
         
            </p>
            <p>}
         
            </p>         
            </blockquote> 
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>The Analytic Information Server
            object types handled by the FSmartbase_ObjectPtr function are as follows:<b>
            </b></p>
            <p><b>TYTEXT</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            returns pointer to Text array
         
            </p>
            <p><b>TYSTRING</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            returns pointer to CHAR array
         
            </p>
            <p><b>TYSYMBOL</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            returns pointer to CHAR array
         
            </p>
            <p><b>TYBITVECTOR</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            returns pointer to CHAR array (length is bit count)
         
            </p>
            <p><b>TYBYTEVECTOR</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            returns pointer to CHAR array
         
            </p>
            <p><b>TYFLTVECTOR</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            returns pointer to FLOAT array
         
            </p>
            <p><b>TYINTVECTOR</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            returns pointer to NUM array
         
            </p>
            <p><b>TYNUMVECTOR</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            returns pointer to REAL array
         
            </p>
            <p><b>TYVECTOR</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            returns pointer to TVAL array          </p>
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P><P><H2><A NAME="SFSmartbase_Writeln"></A>FSmartbase_Writeln</H2></P>        
            <div class="h2section" id="FSmartbase_Writeln">
           <p><b>FSmartbase_Writeln(CONTEXT*
            gCP,THREAD* gTP,NUM&nbsp; argc, TVAL
            arg1, ... );</b></p>
            <p><b>C
            Function</b></p>
            <p>The <b>FSmartbase_Writeln</b>
            function displays the specified argument list on the Analytic Information
            Server console window. There is no limit to the size of the argument list.
            This function always returns a result (even if the result is an error code).&nbsp;</p>
            <p>&nbsp;
         
            </p>
            <table>
              <tbody>
                <tr>
                  <td>
                    <p><b>Arguments
         
                    </b></p>
                  </td>
                  <td>
                    <p>&nbsp;
         
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>CONTEXT*
                    gCP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>context pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>THREAD*
                    gTP
         
                    </b></p>
                  </td>
                  <td>
                    <p>The<b>
                    </b>thread pointer.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>NUM&nbsp;
                    argc
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    count of the arguments (may be zero).</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>TVAL&nbsp;
                    arg...
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    optional direct argument list.</p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <p><b>return(TVAL)
         
                    </b></p>
                  </td>
                  <td>
                    <p>The
                    result of displaying the arguments.</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p>&nbsp;</p>
            <p><b>Note:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>The FSmartbase_Writeln
            function supports direct inline Analytic Information Server function
            invocations from C and C++. Since Analytic Information Server functions may
            take an optional number of arguments, the TVAL arguments to
            FSmartbase_Writeln are also optional (not unlike the C <b>printf</b>
            function). Of course all arguments to Analytic Information Server functions
            must be tagged values TVAL's; therefore, the following conversion macros are
            supplied in Fsmtbase.h for easy inline argument conversion from C data types
            to Analytic Information Server tagged values:
         
            </p>
            <p><b>TBOOL(b)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C boolean into a
            tagged value.<b>
            </b></p>
            <p><b>TCHAR(c)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C character into
            a tagged value.<b>
            </b></p>
            <p><b>TFUNCTION(f)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C function into a
            tagged value.<b>
            </b></p>
            <p><b>TINT(i)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C integer into a
            tagged value.<b>
            </b></p>
            <p><b>TREAL(r)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C real into a
            tagged value.<b>
            </b></p>
            <p><b>TSTRING(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C string into a
            tagged value.<b>
            </b></p>
            <p><b>TSYMBOL(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C string into a
            symbol tagged value.<b>
            </b></p>
            <p><b>TQSYMBOL(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C string into a
            quoted symbol tagged value.<b>
            </b></p>
            <p><b>TGVALUE(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </b>Converts a C string into the
            global value of the symbol.
         
            </p>
            <p><b>&nbsp;
         
            </b></p>
            <p><b>For
            example:</b></p>            
            <blockquote> 
            <p>#include&nbsp;
            &quot;Fsmtbase.h&quot;
         
            </p>
            <p>TVAL
            foo(CONTEXT* gCP,THREAD* gTP,TVAL name, TVAL value)
         
            </p>
            <p>{
         
            </p>
            <p>TVAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            result;
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Display a simple message here.
         
            </p>
            <p>result
            = FSmartbase_Writeln(gCP,gTP,4,
         
            </p>
            <p>TSTRING(&quot;The
            value of &quot;,
         
            </p>
            <p>name,
         
            </p>
            <p>TSTRING(&quot;
            is &quot;)
         
            </p>
            <p>,value);
         
            </p>
            <p>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Return the evaluation result.
         
            </p>
            <p>return(result);
         
            </p>
            <p>}</p>     
            </blockquote> 
          </div>
        <P ALIGN="CENTER"><INPUT TYPE='button' VALUE='Top of Page' onClick='navigate("#TOP");'></P>

 

</BODY>
</HTML>